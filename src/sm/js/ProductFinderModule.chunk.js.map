{"version":3,"sources":["webpack:///ProductFinderModule.chunk.js","webpack:///./js/modules/Base.module.js?da84***","webpack:///./js/modules/repositories/AutocompleteGateway.repository.js?9115","webpack:///./js/services/gateways/locationSuggestionsGateway.service.js?f234","webpack:///./js/modules/productFinder/controller/PFCAutocomplete.controller.js","webpack:///./js/services/gateways/RegionalisationSitecoreGateway.service.js","webpack:///./js/modules/productFinder/controller/PFC.controller.js","webpack:///./js/modules/productFinder/ProductFinder.module.js","webpack:///./js/modules/productFinder/controller/PFC01.controller.js","webpack:///./js/modules/productFinder/controller/PFC02.controller.js","webpack:///./js/modules/productFinder/controller/PFC03.controller.js"],"names":["webpackJsonp","22","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_classCallCheck2","_classCallCheck3","BaseModule","moduleConfig","this","node","config","identifier","prototype","init","getIdentifier","123","_locationSuggestionsGateway","_locationSuggestionsGateway2","location","125","beginsWithZip","text","test","getSuggestions","query","checkedQuery","split","join","substring","_promise2","resolve","reject","_jquery2","get","URL","host","path","result","suggestions","each","index","zip","push","city","fail","error","_promise","_jquery","checkSelectedSuggestion","suggestion","then","catch","err","174","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_Autocomplete","_Autocomplete2","_fasterdom","_fasterdom2","PFCAutocompleteController","_AutocompleteControll","call","$root","gateway","_this2","$input","on","val","_selectSuggestion","_this3","mutateInstant","addClass","trigger","makeSuggestions","175","_Debug","_Debug2","innogy","window","regioLogger","debugLocal","Error","regionalisation","getRegionalization","e","warn","regionalize","_ref","set","259","_AbstractController2","_AbstractController3","_RegionalisationSitecoreGateway","_RegionalisationSitecoreGateway2","_PFCAutocomplete","_PFCAutocomplete2","_AutocompleteGateway","_AutocompleteGateway2","PFCController","_AbstractController","_getRegionalisierung","_makeRegionalisierung","successCallback","consumption","find","_splitValue","slice","substr","_checkService","hasClass","logger","info","_validateLocation","$autocomplete","is","_validate","_handleSubmit","preventDefault","$form","bind","autocompleteInstance","attr","677","_Base","_Base2","_PFC","_PFC2","_PFC3","_PFC4","_PFC5","_PFC6","ProductFinderModule","_BaseModule","type","getAttribute","controller","679","_toggleButton","button","bool","removeClass","validateConsumption","input","measureInstant","BUTTON_STATES","ENABLED","DISABLED","regionalizationCallback","_CookieService","_CookieService2","PFC01Controller","_PFCController","$electricityInput","$electricityBtn","$gasInput","$gasBtn","getCookie","deleteCookie","680","_replaceAccSubline","_this","measure","$acc","handleRegionalisation","handler","d","reload","PFC02Controller","$btn","681","fasterdomPromised","_validConsumption","consumptionE","consumptionG","prop","PFC03Controller"],"mappings":"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","file":"ProductFinderModule.chunk.js","sourcesContent":["/*!\n * frontend\n * name: innogy-web,\n * buildDate: Tue Jul 11 2017 11:09:41 GMT+0200 (CEST),\n * packageVersion: 2.0.0\n */\n\nwebpackJsonp([5],{\n\n/***/ 22:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(1);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Basic module class definition providing basic interface functions\n\t */\n\t\n\tvar BaseModule = function () {\n\t\n\t\t/**\n\t  * Initialize a module with a config provided by the AppConmoduleConfig\n\t  * @param {moduleConfig} moduleConfig - Config parsed from teh DOM\n\t  */\n\t\n\t\tfunction BaseModule(moduleConfig) {\n\t\t\t(0, _classCallCheck3.default)(this, BaseModule);\n\t\n\t\n\t\t\t/**\n\t   *\n\t   * @type {Object}\n\t   */\n\t\t\tthis.node = moduleConfig.node;\n\t\t\t/**\n\t   *\n\t   * @type {Object}\n\t   */\n\t\t\tthis.config = moduleConfig.config;\n\t\t\t/**\n\t   *\n\t   * @type {string}\n\t   */\n\t\t\tthis.identifier = moduleConfig.identifier;\n\t\t}\n\t\n\t\tBaseModule.prototype.init = function init() {\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * @return {string} returns the identifier for the module instance\n\t  */\n\t\n\t\n\t\tBaseModule.prototype.getIdentifier = function getIdentifier() {\n\t\t\treturn this.identifier;\n\t\t};\n\t\n\t\treturn BaseModule;\n\t}();\n\t\n\texports.default = BaseModule;\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _locationSuggestionsGateway = __webpack_require__(125);\n\t\n\tvar _locationSuggestionsGateway2 = _interopRequireDefault(_locationSuggestionsGateway);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t\tlocation: _locationSuggestionsGateway2.default\n\t};\n\n/***/ }),\n\n/***/ 125:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _promise = __webpack_require__(12);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _jquery = __webpack_require__(6);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar URL = {\n\t\thost: '',\n\t\tpath: '/energiekaufhaus/rs/regionalisierung/autocomplete?limit=100&ortEingabe='\n\t};\n\t\n\tfunction beginsWithZip(text) {\n\t\treturn (/[\\d]{5}\\s\\D+/.test(text)\n\t\t);\n\t}\n\t\n\tfunction getSuggestions(query) {\n\t\tvar checkedQuery = query.split(' ').join('+');\n\t\n\t\tif (beginsWithZip(query)) {\n\t\t\tcheckedQuery = checkedQuery.substring(6);\n\t\t}\n\t\n\t\treturn new _promise2.default(function (resolve, reject) {\n\t\n\t\t\t_jquery2.default.get(URL.host + URL.path + checkedQuery, function (result) {\n\t\t\t\tvar suggestions = [];\n\t\n\t\t\t\t_jquery2.default.each(result, function (index, value) {\n\t\t\t\t\tif (value.zip) {\n\t\t\t\t\t\tsuggestions.push(value.zip + ' ' + value.city);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsuggestions.push(value.city);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tresolve(suggestions);\n\t\t\t}).fail(function (error) {\n\t\t\t\treject(error);\n\t\t\t});\n\t\t});\n\t}\n\t\n\texports.default = {\n\t\tgetSuggestions: getSuggestions,\n\t\tcheckSelectedSuggestion: function checkSelectedSuggestion(suggestion) {\n\t\n\t\t\treturn new _promise2.default(function (resolve, reject) {\n\t\n\t\t\t\t// check if there is a zip code in suggestion\n\t\t\t\tif (beginsWithZip(suggestion)) {\n\t\t\t\t\tresolve(suggestion);\n\t\t\t\t}\n\t\n\t\t\t\tgetSuggestions(suggestion).then(function (suggestions) {\n\t\t\t\t\tresolve(suggestions[0]);\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n\n/***/ }),\n\n/***/ 174:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(1);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(3);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(2);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _Autocomplete = __webpack_require__(211);\n\t\n\tvar _Autocomplete2 = _interopRequireDefault(_Autocomplete);\n\t\n\tvar _fasterdom = __webpack_require__(5);\n\t\n\tvar _fasterdom2 = _interopRequireDefault(_fasterdom);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Check whether the given string starts with a german zip\r\n\t * @param {String} text the location string\r\n\t * @returns {boolean} whether the regex matched\r\n\t */\n\tfunction beginsWithZip(text) {\n\t\treturn (/[\\d]{5}\\s\\D+/.test(text)\n\t\t);\n\t}\n\t\n\t/**\r\n\t * Class representing autocompletion for an input field\r\n\t * @extends { AbstractController }\r\n\t */\n\t\n\tvar PFCAutocompleteController = function (_AutocompleteControll) {\n\t\t(0, _inherits3.default)(PFCAutocompleteController, _AutocompleteControll);\n\t\n\t\tfunction PFCAutocompleteController() {\n\t\t\t(0, _classCallCheck3.default)(this, PFCAutocompleteController);\n\t\t\treturn (0, _possibleConstructorReturn3.default)(this, _AutocompleteControll.call(this, true));\n\t\t}\n\t\n\t\t/**\r\n\t  * Initialises the controller.\r\n\t  * Has to be called after ready event.\r\n\t  *\r\n\t  * @param { jQuery } $root - jQuery wrapped DOM node\r\n\t  * @param { Object } gateway - jQuery wrapped DOM node\r\n\t  * @public\r\n\t  * @return { PFCAutocompleteController } instance\r\n\t  */\n\t\n\t\n\t\tPFCAutocompleteController.prototype.init = function init($root, gateway) {\n\t\t\tvar _this2 = this;\n\t\n\t\t\t_AutocompleteControll.prototype.init.call(this, $root, gateway);\n\t\n\t\t\tthis.$input.on('focus', function () {\n\t\n\t\t\t\t_this2.$input.val('');\n\t\t\t});\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tPFCAutocompleteController.prototype._selectSuggestion = function _selectSuggestion(text) {\n\t\t\tvar _this3 = this;\n\t\n\t\t\tif (beginsWithZip(text)) {\n\t\n\t\t\t\t_AutocompleteControll.prototype._selectSuggestion.call(this, text);\n\t\n\t\t\t\t_fasterdom2.default.mutateInstant(function () {\n\t\t\t\t\t_this3.$root.addClass('inline-editing--valid');\n\t\t\t\t\t_this3.$root.trigger('select-validated-suggestion', text);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.makeSuggestions(text);\n\t\t\t}\n\t\t};\n\t\n\t\treturn PFCAutocompleteController;\n\t}(_Autocomplete2.default);\n\t\n\texports.default = PFCAutocompleteController;\n\n/***/ }),\n\n/***/ 175:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _promise = __webpack_require__(12);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _Debug = __webpack_require__(75);\n\t\n\tvar _Debug2 = _interopRequireDefault(_Debug);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar innogy = window.innogy,\n\t    regioLogger = new _Debug2.default().debugLocal(true, 'REGIONALISATION');\n\t\n\tif (!innogy) {\n\t\tthrow new Error('Cannot use regionalisation functions. No global innogy found');\n\t}\n\t\n\tif (!innogy.regionalisation) {\n\t\tthrow new Error('Cannot use regionalisation functions. No regionalisation on global innogy found');\n\t}\n\t\n\texports.default = {\n\t\t/**\n\t  * Get current regionalization\n\t  * @returns {Promise} promised\n\t  */\n\t\tgetRegionalization: function getRegionalization() {\n\t\t\treturn innogy.regionalisation.get().catch(function (e) {\n\t\t\t\tregioLogger.warn('Could not get regionalisation', e);\n\t\t\t\treturn _promise2.default.reject(e);\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t  * Regionalize the user\n\t  * @param {object}    data containing city and zip\n\t  * @returns {Promise} promised\n\t  */\n\t\tregionalize: function regionalize(_ref) {\n\t\t\tvar city = _ref.city,\n\t\t\t    zip = _ref.zip;\n\t\t\treturn innogy.regionalisation.set(zip, city).catch(function (e) {\n\t\t\t\tregioLogger.warn('Could not set regionalisation', e);\n\t\t\t\treturn _promise2.default.reject(e);\n\t\t\t});\n\t\t}\n\t\n\t};\n\n/***/ }),\n\n/***/ 259:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(1);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(3);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(2);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _AbstractController2 = __webpack_require__(9);\n\t\n\tvar _AbstractController3 = _interopRequireDefault(_AbstractController2);\n\t\n\tvar _RegionalisationSitecoreGateway = __webpack_require__(175);\n\t\n\tvar _RegionalisationSitecoreGateway2 = _interopRequireDefault(_RegionalisationSitecoreGateway);\n\t\n\tvar _PFCAutocomplete = __webpack_require__(174);\n\t\n\tvar _PFCAutocomplete2 = _interopRequireDefault(_PFCAutocomplete);\n\t\n\tvar _AutocompleteGateway = __webpack_require__(123);\n\t\n\tvar _AutocompleteGateway2 = _interopRequireDefault(_AutocompleteGateway);\n\t\n\tvar _fasterdom = __webpack_require__(5);\n\t\n\tvar _fasterdom2 = _interopRequireDefault(_fasterdom);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Class representing an product finder component (PFC01 / PFC02)\r\n\t * @extends { AbstractController }\r\n\t */\n\t\n\tvar PFCController = function (_AbstractController) {\n\t\t(0, _inherits3.default)(PFCController, _AbstractController);\n\t\n\t\tfunction PFCController() {\n\t\t\t(0, _classCallCheck3.default)(this, PFCController);\n\t\t\treturn (0, _possibleConstructorReturn3.default)(this, _AbstractController.call(this));\n\t\t}\n\t\n\t\tPFCController.prototype._getRegionalisierung = function _getRegionalisierung() {\n\t\t\treturn _RegionalisationSitecoreGateway2.default.getRegionalization();\n\t\t};\n\t\n\t\tPFCController.prototype._makeRegionalisierung = function _makeRegionalisierung(successCallback, e, text) {\n\t\t\tvar consumption = this.$root.find('.consumption input').val();\n\t\n\t\t\tthis.location = text;\n\t\n\t\t\treturn _RegionalisationSitecoreGateway2.default.regionalize(this._splitValue(text)).then(function (result) {\n\t\t\t\treturn successCallback(consumption);\n\t\t\t});\n\t\t};\n\t\n\t\tPFCController.prototype._splitValue = function _splitValue(text) {\n\t\t\tvar zip = text.slice(0, 5),\n\t\t\t    city = text.substr(6);\n\t\n\t\t\treturn {\n\t\t\t\tzip: zip,\n\t\t\t\tcity: city\n\t\t\t};\n\t\t};\n\t\n\t\tPFCController.prototype._checkService = function _checkService() {\n\t\t\tvar _this2 = this;\n\t\n\t\t\t_RegionalisationSitecoreGateway2.default.getRegionalization().then(function () {\n\t\t\t\t_fasterdom2.default.mutateInstant(function () {\n\t\t\t\t\tif (!_this2.$root.hasClass('not-available')) {\n\t\t\t\t\t\t_this2.$root.addClass('available');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}).catch(function () {\n\t\t\t\t_this2.logger.info('Product Finder Service down');\n\t\t\t\t//todo remove for prod\n\t\t\t\tif (!_this2.$root.hasClass('not-available')) {\n\t\t\t\t\t_this2.$root.addClass('available');\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\n\t\tPFCController.prototype._validateLocation = function _validateLocation() {\n\t\t\treturn this.$autocomplete.is('.inline-editing--valid');\n\t\t};\n\t\n\t\tPFCController.prototype._validate = function _validate() {};\n\t\n\t\tPFCController.prototype._handleSubmit = function _handleSubmit(e) {\n\t\t\te.preventDefault();\n\t\t};\n\t\n\t\t/**\r\n\t  * Initialises the controller.\r\n\t  * Has to be called after ready event.\r\n\t  *\r\n\t  * @param { jQuery } $root - jQuery wrapped DOM node\r\n\t  * @public\r\n\t  * @return { PFCController } instance\r\n\t  */\n\t\n\t\n\t\tPFCController.prototype.init = function init($root, config) {\n\t\t\tthis.$root = $root;\n\t\t\tthis.$autocomplete = $root.find('.autocomplete');\n\t\t\tthis.$form = $root.find('form');\n\t\n\t\t\tthis.config = config;\n\t\n\t\t\tthis._checkService();\n\t\t\tthis._validate();\n\t\n\t\t\tthis.$autocomplete.on('select-validated-suggestion', this._validate.bind(this));\n\t\t\tthis.$form.on('submit', this._handleSubmit.bind(this));\n\t\n\t\t\tvar autocompleteInstance = new _PFCAutocomplete2.default(),\n\t\t\t    gateway = _AutocompleteGateway2.default[this.$autocomplete.attr('data-gateway') || 'location'];\n\t\n\t\t\tautocompleteInstance.init(this.$autocomplete, gateway);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\treturn PFCController;\n\t}(_AbstractController3.default);\n\t\n\texports.default = PFCController;\n\n/***/ }),\n\n/***/ 677:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(1);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(3);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(2);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _Base = __webpack_require__(22);\n\t\n\tvar _Base2 = _interopRequireDefault(_Base);\n\t\n\tvar _PFC = __webpack_require__(679);\n\t\n\tvar _PFC2 = _interopRequireDefault(_PFC);\n\t\n\tvar _PFC3 = __webpack_require__(680);\n\t\n\tvar _PFC4 = _interopRequireDefault(_PFC3);\n\t\n\tvar _PFC5 = __webpack_require__(681);\n\t\n\tvar _PFC6 = _interopRequireDefault(_PFC5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * @extends {BaseModule}\r\n\t */\n\t\n\tvar ProductFinderModule = function (_BaseModule) {\n\t\t(0, _inherits3.default)(ProductFinderModule, _BaseModule);\n\t\n\t\tfunction ProductFinderModule(config) {\n\t\t\t(0, _classCallCheck3.default)(this, ProductFinderModule);\n\t\t\treturn (0, _possibleConstructorReturn3.default)(this, _BaseModule.call(this, config));\n\t\t}\n\t\n\t\tProductFinderModule.prototype.init = function init() {\n\t\t\t_BaseModule.prototype.init.call(this);\n\t\n\t\t\tvar type = this.node[0].getAttribute('data-tpl');\n\t\n\t\t\tswitch (type) {\n\t\n\t\t\t\tcase 'pfc01':\n\t\t\t\t\tthis.controller = new _PFC2.default().init(this.node, this.config);\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tcase 'pfc02':\n\t\t\t\t\tthis.controller = new _PFC4.default().init(this.node, this.config);\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tcase 'pfc03':\n\t\t\t\t\tthis.controller = new _PFC6.default().init(this.node, this.config);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\t\n\t\treturn ProductFinderModule;\n\t}(_Base2.default);\n\t\n\texports.default = ProductFinderModule;\n\n/***/ }),\n\n/***/ 679:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(1);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(3);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(2);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _PFC = __webpack_require__(259);\n\t\n\tvar _PFC2 = _interopRequireDefault(_PFC);\n\t\n\tvar _fasterdom = __webpack_require__(5);\n\t\n\tvar _fasterdom2 = _interopRequireDefault(_fasterdom);\n\t\n\tvar _CookieService = __webpack_require__(213);\n\t\n\tvar _CookieService2 = _interopRequireDefault(_CookieService);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar BUTTON_STATES = {\n\t\tENABLED: false,\n\t\tDISABLED: true\n\t};\n\t\n\t/**\r\n\t *\r\n\t * @param button\r\n\t * @param bool\r\n\t * @private\r\n\t */\n\tfunction _toggleButton(button, bool) {\n\t\n\t\t_fasterdom2.default.mutateInstant(function () {\n\t\n\t\t\tif (bool) {\n\t\t\t\tbutton.addClass('disabled');\n\t\t\t} else {\n\t\t\t\tbutton.removeClass('disabled');\n\t\t\t}\n\t\t});\n\t}\n\t\n\t/**\r\n\t *\r\n\t * @param input\r\n\t * @param button\r\n\t */\n\tfunction validateConsumption(input, button) {\n\t\n\t\t_fasterdom2.default.measureInstant(function () {\n\t\n\t\t\tvar consumption = input.val();\n\t\n\t\t\t// if ( consumption > 0 && consumption <= 999999 ) {\n\t\t\tif (consumption > 0) {\n\t\t\t\t_toggleButton(button, BUTTON_STATES.ENABLED);\n\t\t\t} else {\n\t\t\t\t_toggleButton(button, BUTTON_STATES.DISABLED);\n\t\t\t}\n\t\t}, 1);\n\t}\n\t\n\t/**\r\n\t *\r\n\t */\n\tfunction regionalizationCallback() {}\n\t\n\t/**\r\n\t * Class representing an product finder component (PFC01)\r\n\t * @extends { PFCController }\r\n\t */\n\t\n\tvar PFC01Controller = function (_PFCController) {\n\t\t(0, _inherits3.default)(PFC01Controller, _PFCController);\n\t\n\t\tfunction PFC01Controller() {\n\t\t\t(0, _classCallCheck3.default)(this, PFC01Controller);\n\t\t\treturn (0, _possibleConstructorReturn3.default)(this, _PFCController.call(this));\n\t\t}\n\t\n\t\tPFC01Controller.prototype._validate = function _validate() {\n\t\n\t\t\tif (this._validateLocation()) {\n\t\n\t\t\t\tvalidateConsumption.call(this, this.$electricityInput, this.$electricityBtn);\n\t\t\t\tvalidateConsumption.call(this, this.$gasInput, this.$gasBtn);\n\t\t\t} else {\n\t\n\t\t\t\t_toggleButton(this.$electricityBtn, BUTTON_STATES.DISABLED);\n\t\t\t\t_toggleButton(this.$gasBtn, BUTTON_STATES.DISABLED);\n\t\t\t}\n\t\t};\n\t\n\t\t/**\r\n\t  * Initialises the controller.\r\n\t  * Has to be called after ready event.\r\n\t  *\r\n\t  * @param { jQuery } $root - jQuery wrapped DOM node\r\n\t  * @public\r\n\t  * @return { PFC01Controller } instance\r\n\t  */\n\t\n\t\n\t\tPFC01Controller.prototype.init = function init($root, config) {\n\t\t\tvar _this2 = this;\n\t\n\t\t\tthis.$electricityBtn = $root.find('.electricity .btn');\n\t\t\tthis.$electricityInput = $root.find('.electricity input');\n\t\t\tthis.$gasBtn = $root.find('.gas .btn');\n\t\t\tthis.$gasInput = $root.find('.gas input');\n\t\n\t\t\t_PFCController.prototype.init.call(this, $root, config);\n\t\n\t\t\tthis.$autocomplete.on('select-validated-suggestion', function (e, text) {\n\t\t\t\tif (_CookieService2.default.getCookie('innogy-pd')) {\n\t\t\t\t\t_CookieService2.default.deleteCookie('innogy-pd');\n\t\t\t\t}\n\t\t\t\treturn _this2._makeRegionalisierung(regionalizationCallback, e, text).catch(function (e) {});\n\t\t\t});\n\t\t\tthis.$electricityInput.on('input', this._validate.bind(this));\n\t\t\tthis.$gasInput.on('input', this._validate.bind(this));\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\treturn PFC01Controller;\n\t}(_PFC2.default);\n\t\n\texports.default = PFC01Controller;\n\n/***/ }),\n\n/***/ 680:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(1);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(3);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(2);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _PFC = __webpack_require__(259);\n\t\n\tvar _PFC2 = _interopRequireDefault(_PFC);\n\t\n\tvar _fasterdom = __webpack_require__(5);\n\t\n\tvar _fasterdom2 = _interopRequireDefault(_fasterdom);\n\t\n\tvar _CookieService = __webpack_require__(213);\n\t\n\tvar _CookieService2 = _interopRequireDefault(_CookieService);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t *\r\n\t * @param button\r\n\t * @param bool\r\n\t * @private\r\n\t */\n\tfunction _toggleButton(button, bool) {\n\t\t_fasterdom2.default.mutateInstant(function () {\n\t\t\tbutton.attr('disabled', bool);\n\t\t});\n\t}\n\t\n\tfunction _replaceAccSubline() {\n\t\tvar _this = this;\n\t\n\t\t_fasterdom2.default.measure(function () {\n\t\t\tvar consumption = _this.$input.val(),\n\t\t\t    location = _this.$autocomplete.find('input').val();\n\t\n\t\t\t_fasterdom2.default.mutateInstant(function () {\n\t\t\t\t_this.$acc.find('.location-value').text(location);\n\t\t\t\t_this.$acc.find('.consumption-value').text(consumption);\n\t\t\t});\n\t\t});\n\t}\n\t\n\t/**\r\n\t *\r\n\t * @param input\r\n\t * @param button\r\n\t */\n\tfunction validateConsumption(input, button) {\n\t\tvar _this2 = this;\n\t\n\t\t_fasterdom2.default.measureInstant(function () {\n\t\t\tvar consumption = input.val();\n\t\n\t\t\t// if ( consumption > 0 && consumption <= 999999 ) {\n\t\t\tif (consumption > 0) {\n\t\t\t\t_toggleButton(button, false);\n\t\t\t\t// _replaceAccSubline.call( this, consumption );\n\t\n\t\t\t\t_fasterdom2.default.mutateInstant(function () {\n\t\t\t\t\t_this2.$root.addClass('valid');\n\t\t\t\t\t_this2.$root.removeClass('invalid');\n\t\t\t\t\t_replaceAccSubline.call(_this2);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t_toggleButton(button, true);\n\t\n\t\t\t\t_fasterdom2.default.mutateInstant(function () {\n\t\t\t\t\t_this2.$acc.removeClass('valid');\n\t\t\t\t\t_this2.$root.removeClass('valid');\n\t\t\t\t\t_this2.$root.addClass('invalid');\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\t\n\tfunction regionalizationCallback(consumption) {}\n\t\n\tfunction handleRegionalisation(e, text) {\n\t\tvar _this3 = this;\n\t\n\t\tvar handler = function handler(d) {\n\t\t\tif (_CookieService2.default.getCookie('innogy-pd')) {\n\t\t\t\t_CookieService2.default.deleteCookie('innogy-pd');\n\t\t\t}\n\t\t\treturn _this3._makeRegionalisierung(regionalizationCallback, e, text).catch(function (e) {});\n\t\t};\n\t\n\t\tthis._getRegionalisierung().then(function (result) {\n\t\t\thandler(result).then(window.location.reload);\n\t\t}).catch(handler);\n\t}\n\t\n\t/**\r\n\t * Class representing an product finder component (PFC02)\r\n\t * @extends { PFCController }\r\n\t */\n\t\n\tvar PFC02Controller = function (_PFCController) {\n\t\t(0, _inherits3.default)(PFC02Controller, _PFCController);\n\t\n\t\tfunction PFC02Controller() {\n\t\t\t(0, _classCallCheck3.default)(this, PFC02Controller);\n\t\t\treturn (0, _possibleConstructorReturn3.default)(this, _PFCController.call(this));\n\t\t}\n\t\n\t\tPFC02Controller.prototype._validate = function _validate() {\n\t\t\tif (this._validateLocation()) {\n\t\t\t\tvalidateConsumption.call(this, this.$input, this.$btn);\n\t\t\t} else {\n\t\t\t\t_toggleButton(this.$btn, true);\n\t\t\t\tthis.$root.removeClass('valid');\n\t\t\t\tthis.$root.addClass('invalid');\n\t\t\t}\n\t\t};\n\t\n\t\t/**\r\n\t  * Initialises the controller.\r\n\t  * Has to be called after ready event.\r\n\t  *\r\n\t  * @param { jQuery } $root - jQuery wrapped DOM node\r\n\t  * @public\r\n\t  * @return { PFC02Controller } instance\r\n\t  */\n\t\n\t\n\t\tPFC02Controller.prototype.init = function init($root) {\n\t\t\tthis.$btn = $root.find('.btn');\n\t\t\tthis.$input = $root.find('.consumption input');\n\t\t\tthis.$acc = $root.find('[data-tpl=acc02]');\n\t\n\t\t\t_PFCController.prototype.init.call(this, $root);\n\t\t\tthis.$autocomplete.on('select-validated-suggestion', handleRegionalisation.bind(this));\n\t\n\t\t\tthis.$input.on('input', this._validate.bind(this));\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\treturn PFC02Controller;\n\t}(_PFC2.default);\n\t\n\texports.default = PFC02Controller;\n\n/***/ }),\n\n/***/ 681:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(1);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(3);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(2);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _PFC = __webpack_require__(259);\n\t\n\tvar _PFC2 = _interopRequireDefault(_PFC);\n\t\n\tvar _fasterdom = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar BUTTON_STATES = {\n\t\tENABLED: false,\n\t\tDISABLED: true\n\t};\n\t\n\t/**\r\n\t *\r\n\t * @param button\r\n\t * @param bool\r\n\t * @private\r\n\t */\n\tfunction _toggleButton(button, bool) {\n\t\n\t\t_fasterdom.fasterdomPromised.mutateInstant(function () {\n\t\n\t\t\tif (bool) {\n\t\t\t\tbutton.addClass('disabled');\n\t\t\t} else {\n\t\t\t\tbutton.removeClass('disabled');\n\t\t\t}\n\t\t});\n\t}\n\t\n\tfunction _validConsumption(consumption) {\n\t\n\t\t// return consumption > 0 && consumption <= 999999;\n\t\treturn consumption > 0;\n\t}\n\t\n\t/**\r\n\t *\r\n\t * @param input\r\n\t * @param button\r\n\t */\n\tfunction validateConsumption() {\n\t\tvar _this = this;\n\t\n\t\tvar consumptionE = void 0,\n\t\t    consumptionG = void 0;\n\t\n\t\t_fasterdom.fasterdomPromised.measureInstant(function () {\n\t\n\t\t\tconsumptionE = _this.$electricityInput.val();\n\t\t\tconsumptionG = _this.$gasInput.val();\n\t\t}, 1).then(function () {\n\t\n\t\t\t_fasterdom.fasterdomPromised.mutateInstant(function () {\n\t\n\t\t\t\tif (_validConsumption(consumptionE) || _validConsumption(consumptionG)) {\n\t\t\t\t\t_toggleButton(_this.$btn, BUTTON_STATES.ENABLED);\n\t\t\t\t} else {\n\t\t\t\t\t_toggleButton(_this.$btn, BUTTON_STATES.DISABLED);\n\t\t\t\t}\n\t\n\t\t\t\tif (_validConsumption(consumptionE)) {\n\t\t\t\t\t_this.$gasInput.prop('disabled', true);\n\t\t\t\t} else {\n\t\t\t\t\t_this.$gasInput.prop('disabled', false);\n\t\t\t\t}\n\t\n\t\t\t\tif (_validConsumption(consumptionG)) {\n\t\t\t\t\t_this.$electricityInput.prop('disabled', true);\n\t\t\t\t} else {\n\t\t\t\t\t_this.$electricityInput.prop('disabled', false);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\t\n\t/**\r\n\t *\r\n\t */\n\tfunction regionalizationCallback() {}\n\t\n\t/**\r\n\t * Class representing an product finder component (PFC01)\r\n\t * @extends { PFCController }\r\n\t */\n\t\n\tvar PFC03Controller = function (_PFCController) {\n\t\t(0, _inherits3.default)(PFC03Controller, _PFCController);\n\t\n\t\tfunction PFC03Controller() {\n\t\t\t(0, _classCallCheck3.default)(this, PFC03Controller);\n\t\t\treturn (0, _possibleConstructorReturn3.default)(this, _PFCController.call(this));\n\t\t}\n\t\n\t\tPFC03Controller.prototype._validate = function _validate() {\n\t\n\t\t\tif (this._validateLocation()) {\n\t\t\t\tvalidateConsumption.call(this);\n\t\t\t} else {\n\t\t\t\t_toggleButton(this.$btn, BUTTON_STATES.DISABLED);\n\t\t\t}\n\t\t};\n\t\n\t\t/**\r\n\t  * Initialises the controller.\r\n\t  * Has to be called after ready event.\r\n\t  *\r\n\t  * @param { jQuery } $root - jQuery wrapped DOM node\r\n\t  * @public\r\n\t  * @return { PFC03Controller } instance\r\n\t  */\n\t\n\t\n\t\tPFC03Controller.prototype.init = function init($root) {\n\t\t\tvar _this3 = this;\n\t\n\t\t\tthis.$btn = $root.find('.btn');\n\t\t\tthis.$electricityInput = $root.find('.electricity input');\n\t\t\tthis.$gasInput = $root.find('.gas input');\n\t\n\t\t\t_PFCController.prototype.init.call(this, $root);\n\t\n\t\t\tthis.$autocomplete.on('select-validated-suggestion', function (e, text) {\n\t\t\t\t_this3._makeRegionalisierung(regionalizationCallback, e, text).catch(function (e) {});\n\t\t\t});\n\t\t\tthis.$electricityInput.on('input', this._validate.bind(this));\n\t\t\tthis.$gasInput.on('input', this._validate.bind(this));\n\t\n\t\t\tthis._validate();\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\treturn PFC03Controller;\n\t}(_PFC2.default);\n\t\n\texports.default = PFC03Controller;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// ProductFinderModule.chunk.js","/**\n * Basic module class definition providing basic interface functions\n */\nclass BaseModule {\n\n\t/**\n\t * Initialize a module with a config provided by the AppConmoduleConfig\n\t * @param {moduleConfig} moduleConfig - Config parsed from teh DOM\n\t */\n\tconstructor ( moduleConfig ) {\n\n\t\t/**\n\t\t *\n\t\t * @type {Object}\n\t\t */\n\t\tthis.node       = moduleConfig.node;\n\t\t/**\n\t\t *\n\t\t * @type {Object}\n\t\t */\n\t\tthis.config     = moduleConfig.config;\n\t\t/**\n\t\t *\n\t\t * @type {string}\n\t\t */\n\t\tthis.identifier = moduleConfig.identifier;\n\t}\n\n\tinit () {\n\t\treturn this;\n\t}\n\n\t/**\n\t * @return {string} returns the identifier for the module instance\n\t */\n\tgetIdentifier () {\n\t\treturn this.identifier;\n\t}\n}\n\nexport default BaseModule;\n\n\n\n// WEBPACK FOOTER //\n// ./js/modules/Base.module.js","import locationSuggestionsGateway from './../../services/gateways/locationSuggestionsGateway.service';\r\n\r\nexport default {\r\n\tlocation : locationSuggestionsGateway\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/modules/repositories/AutocompleteGateway.repository.js","import $ from 'jquery';\r\nconst URL = {\r\n\thost : '',\r\n\tpath : '/energiekaufhaus/rs/regionalisierung/autocomplete?limit=100&ortEingabe='\r\n};\r\n\r\nfunction beginsWithZip ( text ) {\r\n\treturn /[\\d]{5}\\s\\D+/.test( text );\r\n}\r\n\r\nfunction getSuggestions ( query ) {\r\n\tlet checkedQuery = query.split( ' ' ).join( '+' );\r\n\r\n\tif ( beginsWithZip( query ) ) {\r\n\t\tcheckedQuery = checkedQuery.substring( 6 );\r\n\t}\r\n\r\n\treturn new Promise( ( resolve, reject ) => {\r\n\r\n\t\t\t\t$.get( URL.host + URL.path + checkedQuery, ( result ) => {\r\n\t\t\t\t\tconst suggestions = [];\r\n\r\n\t\t\t\t\t$.each( result, ( index, value ) => {\r\n\t\t\t\t\t\tif ( value.zip ) {\r\n\t\t\t\t\t\t\tsuggestions.push( value.zip + ' ' + value.city );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsuggestions.push( value.city );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t\tresolve( suggestions );\r\n\t\t\t\t} )\r\n\t\t\t\t\t\t.fail( ( error ) => {\r\n\t\t\t\t\t\t\treject( error );\r\n\t\t\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\t);\r\n}\r\n\r\nexport default {\r\n\tgetSuggestions :          getSuggestions,\r\n\tcheckSelectedSuggestion : ( suggestion ) => {\r\n\r\n\t\treturn new Promise( ( resolve, reject ) => {\r\n\r\n\t\t\t// check if there is a zip code in suggestion\r\n\t\t\tif ( beginsWithZip( suggestion ) ) {\r\n\t\t\t\tresolve( suggestion );\r\n\t\t\t}\r\n\r\n\t\t\tgetSuggestions( suggestion ).then( ( suggestions ) => {\r\n\t\t\t\tresolve( suggestions[ 0 ] );\r\n\t\t\t} ).catch( ( err ) => {\r\n\t\t\t\treject( err );\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/services/gateways/locationSuggestionsGateway.service.js","import AutocompleteController from '../../../forms/v2/controller/Autocomplete.controller';\r\nimport fasterdom from 'fasterdom';\r\n\r\n/**\r\n * Check whether the given string starts with a german zip\r\n * @param {String} text the location string\r\n * @returns {boolean} whether the regex matched\r\n */\r\nfunction beginsWithZip ( text ) {\r\n\treturn /[\\d]{5}\\s\\D+/.test( text );\r\n}\r\n\r\n/**\r\n * Class representing autocompletion for an input field\r\n * @extends { AbstractController }\r\n */\r\nclass PFCAutocompleteController extends AutocompleteController {\r\n\r\n\tconstructor () {\r\n\t\tsuper( true );\r\n\t}\r\n\r\n\t/**\r\n\t * Initialises the controller.\r\n\t * Has to be called after ready event.\r\n\t *\r\n\t * @param { jQuery } $root - jQuery wrapped DOM node\r\n\t * @param { Object } gateway - jQuery wrapped DOM node\r\n\t * @public\r\n\t * @return { PFCAutocompleteController } instance\r\n\t */\r\n\tinit ( $root, gateway ) {\r\n\t\tsuper.init( $root, gateway );\r\n\r\n\t\tthis.$input.on( 'focus', () => {\r\n\r\n\t\t\tthis.$input.val( '' );\r\n\t\t} );\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t_selectSuggestion ( text ) {\r\n\r\n\t\tif ( beginsWithZip( text ) ) {\r\n\r\n\t\t\tsuper._selectSuggestion( text );\r\n\r\n\t\t\tfasterdom.mutateInstant( () => {\r\n\t\t\t\tthis.$root.addClass( 'inline-editing--valid' );\r\n\t\t\t\tthis.$root.trigger( 'select-validated-suggestion', text );\r\n\t\t\t} );\r\n\r\n\t\t} else {\r\n\t\t\tthis.makeSuggestions( text );\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nexport default PFCAutocompleteController;\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/modules/productFinder/controller/PFCAutocomplete.controller.js","                 \n                                                    \n          \n\nimport DebugController from './../../base/controller/Debug.controller';\n\nconst\n\tinnogy = window.innogy,\n\tregioLogger = ( new DebugController() ).debugLocal( true, 'REGIONALISATION' );\n\nif ( !innogy ) {\n\tthrow new Error( 'Cannot use regionalisation functions. No global innogy found' );\n}\n\nif ( !innogy.regionalisation ) {\n\tthrow new Error( 'Cannot use regionalisation functions. No regionalisation on global innogy found' );\n}\n\nexport default {\n\t/**\n\t * Get current regionalization\n\t * @returns {Promise} promised\n\t */\n\tgetRegionalization : () => innogy.regionalisation.get()\n\t\t.catch( e => {\n\t\t\tregioLogger.warn( 'Could not get regionalisation', e );\n\t\t\treturn Promise.reject( e );\n\t\t} ),\n\n\t/**\n\t * Regionalize the user\n\t * @param {object}    data containing city and zip\n\t * @returns {Promise} promised\n\t */\n\tregionalize : ( { city, zip } ) => innogy.regionalisation.set( zip, city )\n\t\t.catch( e => {\n\t\t\tregioLogger.warn( 'Could not set regionalisation', e );\n\t\t\treturn Promise.reject( e );\n\t\t} )\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/services/gateways/RegionalisationSitecoreGateway.service.js","import AbstractController from './../../../base/controller/Abstract.controller.js';\r\nimport RegionalizationGateway from './../../../services/gateways/RegionalisationSitecoreGateway.service';\r\nimport PFCAutocompleteController from './PFCAutocomplete.controller';\r\nimport AutocompleteGatewayRepository from './../../../modules/repositories/AutocompleteGateway.repository';\r\n\r\nimport dom from 'fasterdom';\r\n\r\n/**\r\n * Class representing an product finder component (PFC01 / PFC02)\r\n * @extends { AbstractController }\r\n */\r\nclass PFCController extends AbstractController {\r\n\r\n\tconstructor () {\r\n\t\tsuper();\r\n\t}\r\n\r\n\t_getRegionalisierung () {\r\n\t\treturn RegionalizationGateway\r\n\t\t\t.getRegionalization();\r\n\t}\r\n\r\n\t_makeRegionalisierung ( successCallback, e, text ) {\r\n\t\tconst consumption = this.$root.find( '.consumption input' ).val();\r\n\r\n\t\tthis.location = text;\r\n\r\n\t\treturn RegionalizationGateway\r\n\t\t\t.regionalize( this._splitValue( text ) )\r\n\t\t\t.then( result => successCallback( consumption ) );\r\n\t}\r\n\r\n\t_splitValue ( text ) {\r\n\t\tconst zip  = text.slice( 0, 5 ),\r\n\t\t      city = text.substr( 6 );\r\n\r\n\t\treturn {\r\n\t\t\tzip,\r\n\t\t\tcity\r\n\t\t};\r\n\t}\r\n\r\n\t_checkService () {\r\n\t\tRegionalizationGateway\r\n\t\t\t\t.getRegionalization()\r\n\t\t\t\t.then( () => {\r\n\t\t\t\t\tdom.mutateInstant( () => {\r\n\t\t\t\t\t\tif ( !this.$root.hasClass( 'not-available' ) ) {\r\n\t\t\t\t\t\t\tthis.$root.addClass( 'available' );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\t\t\t\t} )\r\n\t\t\t\t.catch( () => {\r\n\t\t\t\t\tthis.logger.info( 'Product Finder Service down' );\r\n\t\t\t\t\t//todo remove for prod\r\n\t\t\t\t\tif ( !this.$root.hasClass( 'not-available' ) ) {\r\n\t\t\t\t\t\tthis.$root.addClass( 'available' );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t}\r\n\r\n\t_validateLocation () {\r\n\t\treturn this.$autocomplete.is( '.inline-editing--valid' );\r\n\t}\r\n\r\n\t_validate () {\r\n\t}\r\n\r\n\t_handleSubmit ( e ) {\r\n\t\te.preventDefault();\r\n\t}\r\n\r\n\t/**\r\n\t * Initialises the controller.\r\n\t * Has to be called after ready event.\r\n\t *\r\n\t * @param { jQuery } $root - jQuery wrapped DOM node\r\n\t * @public\r\n\t * @return { PFCController } instance\r\n\t */\r\n\tinit ( $root, config ) {\r\n\t\tthis.$root         = $root;\r\n\t\tthis.$autocomplete = $root.find( '.autocomplete' );\r\n\t\tthis.$form         = $root.find( 'form' );\r\n\r\n\t\tthis.config = config;\r\n\r\n\t\tthis._checkService();\r\n\t\tthis._validate();\r\n\r\n\t\tthis.$autocomplete.on( 'select-validated-suggestion', this._validate.bind( this ) );\r\n\t\tthis.$form.on( 'submit', this._handleSubmit.bind( this ) );\r\n\r\n\t\tconst autocompleteInstance = new PFCAutocompleteController(),\r\n\t\t      gateway              = AutocompleteGatewayRepository[ this.$autocomplete.attr( 'data-gateway' ) || 'location' ];\r\n\r\n\t\tautocompleteInstance.init( this.$autocomplete, gateway );\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n}\r\n\r\nexport default PFCController;\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/modules/productFinder/controller/PFC.controller.js","import BaseModule from './../Base.module';\r\nimport PFC01Controller from './controller/PFC01.controller';\r\nimport PFC02Controller from './controller/PFC02.controller';\r\nimport PFC03Controller from './controller/PFC03.controller';\r\n\r\n/**\r\n * @extends {BaseModule}\r\n */\r\nclass ProductFinderModule extends BaseModule {\r\n\r\n\tconstructor ( config ) {\r\n\t\tsuper( config );\r\n\t}\r\n\r\n\tinit () {\r\n\t\tsuper.init();\r\n\r\n\t\tconst type = this.node[ 0 ].getAttribute( 'data-tpl' );\r\n\r\n\t\tswitch ( type ) {\r\n\r\n\t\t\tcase 'pfc01':\r\n\t\t\t\tthis.controller = new PFC01Controller().init( this.node, this.config );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'pfc02':\r\n\t\t\t\tthis.controller = new PFC02Controller().init( this.node, this.config );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'pfc03':\r\n\t\t\t\tthis.controller = new PFC03Controller().init( this.node, this.config );\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default ProductFinderModule;\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/modules/productFinder/ProductFinder.module.js","import PFCController from './PFC.controller';\r\nimport dom from 'fasterdom';\r\n\r\nimport CookieService from './../../../services/Cookie.service.js';\r\n\r\nconst BUTTON_STATES = {\r\n\tENABLED :  false,\r\n\tDISABLED : true\r\n};\r\n\r\n/**\r\n *\r\n * @param button\r\n * @param bool\r\n * @private\r\n */\r\nfunction _toggleButton ( button, bool ) {\r\n\r\n\tdom.mutateInstant( () => {\r\n\r\n\t\tif ( bool ) {\r\n\t\t\tbutton.addClass( 'disabled' );\r\n\t\t} else {\r\n\t\t\tbutton.removeClass( 'disabled' );\r\n\t\t}\r\n\t} );\r\n}\r\n\r\n/**\r\n *\r\n * @param input\r\n * @param button\r\n */\r\nfunction validateConsumption ( input, button ) {\r\n\r\n\tdom.measureInstant( () => {\r\n\r\n\t\tconst consumption = input.val();\r\n\r\n\t\t// if ( consumption > 0 && consumption <= 999999 ) {\r\n\t\tif ( consumption > 0 ) {\r\n\t\t\t_toggleButton( button, BUTTON_STATES.ENABLED );\r\n\t\t} else {\r\n\t\t\t_toggleButton( button, BUTTON_STATES.DISABLED );\r\n\t\t}\r\n\t}, 1 );\r\n}\r\n\r\n/**\r\n *\r\n */\r\nfunction regionalizationCallback () {\r\n\r\n}\r\n\r\n/**\r\n * Class representing an product finder component (PFC01)\r\n * @extends { PFCController }\r\n */\r\nclass PFC01Controller extends PFCController {\r\n\r\n\tconstructor () {\r\n\t\tsuper();\r\n\t}\r\n\r\n\t_validate () {\r\n\r\n\t\tif ( this._validateLocation() ) {\r\n\r\n\t\t\tvalidateConsumption.call( this, this.$electricityInput, this.$electricityBtn );\r\n\t\t\tvalidateConsumption.call( this, this.$gasInput, this.$gasBtn );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_toggleButton( this.$electricityBtn, BUTTON_STATES.DISABLED );\r\n\t\t\t_toggleButton( this.$gasBtn, BUTTON_STATES.DISABLED );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Initialises the controller.\r\n\t * Has to be called after ready event.\r\n\t *\r\n\t * @param { jQuery } $root - jQuery wrapped DOM node\r\n\t * @public\r\n\t * @return { PFC01Controller } instance\r\n\t */\r\n\tinit ( $root, config ) {\r\n\r\n\t\tthis.$electricityBtn   = $root.find( '.electricity .btn' );\r\n\t\tthis.$electricityInput = $root.find( '.electricity input' );\r\n\t\tthis.$gasBtn           = $root.find( '.gas .btn' );\r\n\t\tthis.$gasInput         = $root.find( '.gas input' );\r\n\r\n\t\tsuper.init( $root, config );\r\n\r\n\t\tthis.$autocomplete.on( 'select-validated-suggestion', ( e, text ) => {\r\n\t\t\tif ( CookieService.getCookie( 'innogy-pd' ) ) {\r\n\t\t\t\tCookieService.deleteCookie( 'innogy-pd' );\r\n\t\t\t}\r\n\t\t\treturn this._makeRegionalisierung( regionalizationCallback, e, text ).catch( e => {} );\r\n\t\t} );\r\n\t\tthis.$electricityInput.on( 'input', this._validate.bind( this ) );\r\n\t\tthis.$gasInput.on( 'input', this._validate.bind( this ) );\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n}\r\n\r\nexport default PFC01Controller;\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/modules/productFinder/controller/PFC01.controller.js","import PFCController from './PFC.controller';\r\nimport dom from 'fasterdom';\r\n\r\nimport CookieService from './../../../services/Cookie.service.js';\r\n\r\n/**\r\n *\r\n * @param button\r\n * @param bool\r\n * @private\r\n */\r\nfunction _toggleButton ( button, bool ) {\r\n\tdom.mutateInstant( () => {\r\n\t\tbutton.attr( 'disabled', bool );\r\n\t} );\r\n}\r\n\r\nfunction _replaceAccSubline () {\r\n\r\n\tdom.measure( () => {\r\n\t\tconst consumption = this.$input.val(),\r\n\t\t      location    = this.$autocomplete.find( 'input' ).val();\r\n\r\n\t\tdom.mutateInstant( () => {\r\n\t\t\tthis.$acc.find( '.location-value' ).text( location );\r\n\t\t\tthis.$acc.find( '.consumption-value' ).text( consumption );\r\n\t\t} );\r\n\t} );\r\n}\r\n\r\n/**\r\n *\r\n * @param input\r\n * @param button\r\n */\r\nfunction validateConsumption ( input, button ) {\r\n\tdom.measureInstant( () => {\r\n\t\tconst consumption = input.val();\r\n\r\n\t\t// if ( consumption > 0 && consumption <= 999999 ) {\r\n\t\tif ( consumption > 0 ) {\r\n\t\t\t_toggleButton( button, false );\r\n\t\t\t// _replaceAccSubline.call( this, consumption );\r\n\r\n\t\t\tdom.mutateInstant( () => {\r\n\t\t\t\tthis.$root.addClass( 'valid' );\r\n\t\t\t\tthis.$root.removeClass( 'invalid' );\r\n\t\t\t\t_replaceAccSubline.call( this );\r\n\t\t\t} );\r\n\r\n\t\t} else {\r\n\t\t\t_toggleButton( button, true );\r\n\r\n\t\t\tdom.mutateInstant( () => {\r\n\t\t\t\tthis.$acc.removeClass( 'valid' );\r\n\t\t\t\tthis.$root.removeClass( 'valid' );\r\n\t\t\t\tthis.$root.addClass( 'invalid' );\r\n\t\t\t} );\r\n\t\t}\r\n\t} );\r\n}\r\n\r\nfunction regionalizationCallback (consumption) {\r\n\r\n}\r\n\r\n\r\n\r\nfunction handleRegionalisation ( e, text ) {\r\n\tconst handler = d => {\r\n\t\tif ( CookieService.getCookie( 'innogy-pd' ) ) {\r\n\t\t\tCookieService.deleteCookie( 'innogy-pd' );\r\n\t\t}\r\n\t\treturn this._makeRegionalisierung( regionalizationCallback, e, text ).catch( e => {} );\r\n\t};\r\n\r\n\tthis._getRegionalisierung()\r\n\t\t.then( result => {\r\n\t\t\thandler( result )\r\n\t\t\t\t.then( window.location.reload );\r\n\t\t} )\r\n\t\t.catch( handler );\r\n}\r\n\r\n/**\r\n * Class representing an product finder component (PFC02)\r\n * @extends { PFCController }\r\n */\r\nclass PFC02Controller extends PFCController {\r\n\r\n\tconstructor () {\r\n\t\tsuper();\r\n\t}\r\n\r\n\t_validate () {\r\n\t\tif ( this._validateLocation() ) {\r\n\t\t\tvalidateConsumption.call( this, this.$input, this.$btn );\r\n\t\t} else {\r\n\t\t\t_toggleButton( this.$btn, true );\r\n\t\t\tthis.$root.removeClass( 'valid' );\r\n\t\t\tthis.$root.addClass( 'invalid' );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Initialises the controller.\r\n\t * Has to be called after ready event.\r\n\t *\r\n\t * @param { jQuery } $root - jQuery wrapped DOM node\r\n\t * @public\r\n\t * @return { PFC02Controller } instance\r\n\t */\r\n\tinit ( $root ) {\r\n\t\tthis.$btn   = $root.find( '.btn' );\r\n\t\tthis.$input = $root.find( '.consumption input' );\r\n\t\tthis.$acc   = $root.find( '[data-tpl=acc02]' );\r\n\r\n\t\tsuper.init( $root );\r\n\t\tthis.$autocomplete.on( 'select-validated-suggestion', this::handleRegionalisation );\r\n\r\n\t\tthis.$input.on( 'input', this._validate.bind( this ) );\r\n\r\n\t\treturn this;\r\n\t}\r\n}\r\n\r\nexport default PFC02Controller;\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/modules/productFinder/controller/PFC02.controller.js","import PFCController from './PFC.controller';\r\nimport { fasterdomPromised as dom } from 'fasterdom';\r\n\r\nconst BUTTON_STATES = {\r\n\tENABLED :  false,\r\n\tDISABLED : true\r\n};\r\n\r\n/**\r\n *\r\n * @param button\r\n * @param bool\r\n * @private\r\n */\r\nfunction _toggleButton ( button, bool ) {\r\n\r\n\tdom.mutateInstant( () => {\r\n\r\n\t\tif ( bool ) {\r\n\t\t\tbutton.addClass( 'disabled' );\r\n\t\t} else {\r\n\t\t\tbutton.removeClass( 'disabled' );\r\n\t\t}\r\n\t} );\r\n}\r\n\r\nfunction _validConsumption ( consumption ) {\r\n\r\n\t// return consumption > 0 && consumption <= 999999;\r\n\treturn consumption > 0;\r\n}\r\n\r\n/**\r\n *\r\n * @param input\r\n * @param button\r\n */\r\nfunction validateConsumption () {\r\n\r\n\tlet consumptionE,\r\n\t    consumptionG;\r\n\r\n\tdom.measureInstant( () => {\r\n\r\n\t\tconsumptionE = this.$electricityInput.val();\r\n\t\tconsumptionG = this.$gasInput.val();\r\n\r\n\t}, 1 ).then( () => {\r\n\r\n\t\tdom.mutateInstant( () => {\r\n\r\n\t\t\tif ( _validConsumption( consumptionE ) || _validConsumption( consumptionG ) ) {\r\n\t\t\t\t_toggleButton( this.$btn, BUTTON_STATES.ENABLED );\r\n\t\t\t} else {\r\n\t\t\t\t_toggleButton( this.$btn, BUTTON_STATES.DISABLED );\r\n\t\t\t}\r\n\r\n\t\t\tif ( _validConsumption( consumptionE ) ) {\r\n\t\t\t\tthis.$gasInput.prop( 'disabled', true );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$gasInput.prop( 'disabled', false );\r\n\t\t\t}\r\n\r\n\t\t\tif ( _validConsumption( consumptionG ) ) {\r\n\t\t\t\tthis.$electricityInput.prop( 'disabled', true );\r\n\t\t\t} else {\r\n\t\t\t\tthis.$electricityInput.prop( 'disabled', false );\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t} );\r\n}\r\n\r\n/**\r\n *\r\n */\r\nfunction regionalizationCallback () {\r\n\r\n}\r\n\r\n/**\r\n * Class representing an product finder component (PFC01)\r\n * @extends { PFCController }\r\n */\r\nclass PFC03Controller extends PFCController {\r\n\r\n\tconstructor () {\r\n\t\tsuper();\r\n\t}\r\n\r\n\t_validate () {\r\n\t\t\r\n\t\tif ( this._validateLocation() ) {\r\n\t\t\tvalidateConsumption.call( this );\r\n\t\t} else {\r\n\t\t\t_toggleButton( this.$btn, BUTTON_STATES.DISABLED );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Initialises the controller.\r\n\t * Has to be called after ready event.\r\n\t *\r\n\t * @param { jQuery } $root - jQuery wrapped DOM node\r\n\t * @public\r\n\t * @return { PFC03Controller } instance\r\n\t */\r\n\tinit ( $root ) {\r\n\r\n\t\tthis.$btn              = $root.find( '.btn' );\r\n\t\tthis.$electricityInput = $root.find( '.electricity input' );\r\n\t\tthis.$gasInput         = $root.find( '.gas input' );\r\n\r\n\t\tsuper.init( $root );\r\n\r\n\t\tthis.$autocomplete.on( 'select-validated-suggestion', ( e, text ) => {\r\n\t\t\tthis._makeRegionalisierung( regionalizationCallback, e, text ).catch( e => {} );\r\n\t\t} );\r\n\t\tthis.$electricityInput.on( 'input', this._validate.bind( this ) );\r\n\t\tthis.$gasInput.on( 'input', this._validate.bind( this ) );\r\n\r\n\t\tthis._validate();\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n}\r\n\r\nexport default PFC03Controller;\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/modules/productFinder/controller/PFC03.controller.js"],"sourceRoot":""}
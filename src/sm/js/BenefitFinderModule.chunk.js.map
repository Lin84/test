{"version":3,"sources":["webpack:///BenefitFinderModule.chunk.js","webpack:///./js/modules/Base.module.js?da84******","webpack:///./js/modules/repositories/AutocompleteGateway.repository.js?9115**","webpack:///./js/services/gateways/locationSuggestionsGateway.service.js?f234**","webpack:///./js/modules/productFinder/controller/PFCAutocomplete.controller.js?e73f*","webpack:///./js/services/gateways/RegionalisationSitecoreGateway.service.js?1f26*","webpack:///./js/modules/benefitFinder/BenefitFinder.module.js","webpack:///./js/modules/benefitFinder/controller/BFC.controller.js"],"names":["webpackJsonp","22","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_classCallCheck2","_classCallCheck3","BaseModule","moduleConfig","this","node","config","identifier","prototype","init","getIdentifier","123","_locationSuggestionsGateway","_locationSuggestionsGateway2","location","125","beginsWithZip","text","test","getSuggestions","query","checkedQuery","split","join","substring","_promise2","resolve","reject","_jquery2","get","URL","host","path","result","suggestions","each","index","zip","push","city","fail","error","_promise","_jquery","checkSelectedSuggestion","suggestion","then","catch","err","174","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_Autocomplete","_Autocomplete2","_fasterdom","_fasterdom2","PFCAutocompleteController","_AutocompleteControll","call","$root","gateway","_this2","$input","on","val","_selectSuggestion","_this3","mutateInstant","addClass","trigger","makeSuggestions","175","_Debug","_Debug2","innogy","window","regioLogger","debugLocal","Error","regionalisation","getRegionalization","e","warn","regionalize","_ref","set","664","_Base","_Base2","_BFC","_BFC2","BenefitFinderModule","_BaseModule","is","controllerInstance","controller","666","_AbstractController2","_AbstractController3","_RegionalisationSitecoreGateway","_RegionalisationSitecoreGateway2","_PFCAutocomplete","_PFCAutocomplete2","_AutocompleteGateway","_AutocompleteGateway2","BFCController","_AbstractController","_makeRegionalisierung","successCallback","_splitValue","slice","substr","_checkService","logger","info","_validateLocation","$autocomplete","_validate","_handleSubmit","find","$form","$area","$location","$query","bind","autocompleteInstance","attr"],"mappings":"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","file":"BenefitFinderModule.chunk.js","sourcesContent":["/*!\n * frontend\n * name: innogy-web,\n * buildDate: Tue Jul 11 2017 11:09:41 GMT+0200 (CEST),\n * packageVersion: 2.0.0\n */\n\nwebpackJsonp([9],{\n\n/***/ 22:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(1);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Basic module class definition providing basic interface functions\n\t */\n\t\n\tvar BaseModule = function () {\n\t\n\t\t/**\n\t  * Initialize a module with a config provided by the AppConmoduleConfig\n\t  * @param {moduleConfig} moduleConfig - Config parsed from teh DOM\n\t  */\n\t\n\t\tfunction BaseModule(moduleConfig) {\n\t\t\t(0, _classCallCheck3.default)(this, BaseModule);\n\t\n\t\n\t\t\t/**\n\t   *\n\t   * @type {Object}\n\t   */\n\t\t\tthis.node = moduleConfig.node;\n\t\t\t/**\n\t   *\n\t   * @type {Object}\n\t   */\n\t\t\tthis.config = moduleConfig.config;\n\t\t\t/**\n\t   *\n\t   * @type {string}\n\t   */\n\t\t\tthis.identifier = moduleConfig.identifier;\n\t\t}\n\t\n\t\tBaseModule.prototype.init = function init() {\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * @return {string} returns the identifier for the module instance\n\t  */\n\t\n\t\n\t\tBaseModule.prototype.getIdentifier = function getIdentifier() {\n\t\t\treturn this.identifier;\n\t\t};\n\t\n\t\treturn BaseModule;\n\t}();\n\t\n\texports.default = BaseModule;\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _locationSuggestionsGateway = __webpack_require__(125);\n\t\n\tvar _locationSuggestionsGateway2 = _interopRequireDefault(_locationSuggestionsGateway);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t\tlocation: _locationSuggestionsGateway2.default\n\t};\n\n/***/ }),\n\n/***/ 125:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _promise = __webpack_require__(12);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _jquery = __webpack_require__(6);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar URL = {\n\t\thost: '',\n\t\tpath: '/energiekaufhaus/rs/regionalisierung/autocomplete?limit=100&ortEingabe='\n\t};\n\t\n\tfunction beginsWithZip(text) {\n\t\treturn (/[\\d]{5}\\s\\D+/.test(text)\n\t\t);\n\t}\n\t\n\tfunction getSuggestions(query) {\n\t\tvar checkedQuery = query.split(' ').join('+');\n\t\n\t\tif (beginsWithZip(query)) {\n\t\t\tcheckedQuery = checkedQuery.substring(6);\n\t\t}\n\t\n\t\treturn new _promise2.default(function (resolve, reject) {\n\t\n\t\t\t_jquery2.default.get(URL.host + URL.path + checkedQuery, function (result) {\n\t\t\t\tvar suggestions = [];\n\t\n\t\t\t\t_jquery2.default.each(result, function (index, value) {\n\t\t\t\t\tif (value.zip) {\n\t\t\t\t\t\tsuggestions.push(value.zip + ' ' + value.city);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsuggestions.push(value.city);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tresolve(suggestions);\n\t\t\t}).fail(function (error) {\n\t\t\t\treject(error);\n\t\t\t});\n\t\t});\n\t}\n\t\n\texports.default = {\n\t\tgetSuggestions: getSuggestions,\n\t\tcheckSelectedSuggestion: function checkSelectedSuggestion(suggestion) {\n\t\n\t\t\treturn new _promise2.default(function (resolve, reject) {\n\t\n\t\t\t\t// check if there is a zip code in suggestion\n\t\t\t\tif (beginsWithZip(suggestion)) {\n\t\t\t\t\tresolve(suggestion);\n\t\t\t\t}\n\t\n\t\t\t\tgetSuggestions(suggestion).then(function (suggestions) {\n\t\t\t\t\tresolve(suggestions[0]);\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n\n/***/ }),\n\n/***/ 174:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(1);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(3);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(2);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _Autocomplete = __webpack_require__(211);\n\t\n\tvar _Autocomplete2 = _interopRequireDefault(_Autocomplete);\n\t\n\tvar _fasterdom = __webpack_require__(5);\n\t\n\tvar _fasterdom2 = _interopRequireDefault(_fasterdom);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Check whether the given string starts with a german zip\r\n\t * @param {String} text the location string\r\n\t * @returns {boolean} whether the regex matched\r\n\t */\n\tfunction beginsWithZip(text) {\n\t\treturn (/[\\d]{5}\\s\\D+/.test(text)\n\t\t);\n\t}\n\t\n\t/**\r\n\t * Class representing autocompletion for an input field\r\n\t * @extends { AbstractController }\r\n\t */\n\t\n\tvar PFCAutocompleteController = function (_AutocompleteControll) {\n\t\t(0, _inherits3.default)(PFCAutocompleteController, _AutocompleteControll);\n\t\n\t\tfunction PFCAutocompleteController() {\n\t\t\t(0, _classCallCheck3.default)(this, PFCAutocompleteController);\n\t\t\treturn (0, _possibleConstructorReturn3.default)(this, _AutocompleteControll.call(this, true));\n\t\t}\n\t\n\t\t/**\r\n\t  * Initialises the controller.\r\n\t  * Has to be called after ready event.\r\n\t  *\r\n\t  * @param { jQuery } $root - jQuery wrapped DOM node\r\n\t  * @param { Object } gateway - jQuery wrapped DOM node\r\n\t  * @public\r\n\t  * @return { PFCAutocompleteController } instance\r\n\t  */\n\t\n\t\n\t\tPFCAutocompleteController.prototype.init = function init($root, gateway) {\n\t\t\tvar _this2 = this;\n\t\n\t\t\t_AutocompleteControll.prototype.init.call(this, $root, gateway);\n\t\n\t\t\tthis.$input.on('focus', function () {\n\t\n\t\t\t\t_this2.$input.val('');\n\t\t\t});\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tPFCAutocompleteController.prototype._selectSuggestion = function _selectSuggestion(text) {\n\t\t\tvar _this3 = this;\n\t\n\t\t\tif (beginsWithZip(text)) {\n\t\n\t\t\t\t_AutocompleteControll.prototype._selectSuggestion.call(this, text);\n\t\n\t\t\t\t_fasterdom2.default.mutateInstant(function () {\n\t\t\t\t\t_this3.$root.addClass('inline-editing--valid');\n\t\t\t\t\t_this3.$root.trigger('select-validated-suggestion', text);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.makeSuggestions(text);\n\t\t\t}\n\t\t};\n\t\n\t\treturn PFCAutocompleteController;\n\t}(_Autocomplete2.default);\n\t\n\texports.default = PFCAutocompleteController;\n\n/***/ }),\n\n/***/ 175:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _promise = __webpack_require__(12);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _Debug = __webpack_require__(75);\n\t\n\tvar _Debug2 = _interopRequireDefault(_Debug);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar innogy = window.innogy,\n\t    regioLogger = new _Debug2.default().debugLocal(true, 'REGIONALISATION');\n\t\n\tif (!innogy) {\n\t\tthrow new Error('Cannot use regionalisation functions. No global innogy found');\n\t}\n\t\n\tif (!innogy.regionalisation) {\n\t\tthrow new Error('Cannot use regionalisation functions. No regionalisation on global innogy found');\n\t}\n\t\n\texports.default = {\n\t\t/**\n\t  * Get current regionalization\n\t  * @returns {Promise} promised\n\t  */\n\t\tgetRegionalization: function getRegionalization() {\n\t\t\treturn innogy.regionalisation.get().catch(function (e) {\n\t\t\t\tregioLogger.warn('Could not get regionalisation', e);\n\t\t\t\treturn _promise2.default.reject(e);\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t  * Regionalize the user\n\t  * @param {object}    data containing city and zip\n\t  * @returns {Promise} promised\n\t  */\n\t\tregionalize: function regionalize(_ref) {\n\t\t\tvar city = _ref.city,\n\t\t\t    zip = _ref.zip;\n\t\t\treturn innogy.regionalisation.set(zip, city).catch(function (e) {\n\t\t\t\tregioLogger.warn('Could not set regionalisation', e);\n\t\t\t\treturn _promise2.default.reject(e);\n\t\t\t});\n\t\t}\n\t\n\t};\n\n/***/ }),\n\n/***/ 664:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(1);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(3);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(2);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _Base = __webpack_require__(22);\n\t\n\tvar _Base2 = _interopRequireDefault(_Base);\n\t\n\tvar _BFC = __webpack_require__(666);\n\t\n\tvar _BFC2 = _interopRequireDefault(_BFC);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar BenefitFinderModule = function (_BaseModule) {\n\t\t(0, _inherits3.default)(BenefitFinderModule, _BaseModule);\n\t\n\t\tfunction BenefitFinderModule(config) {\n\t\t\t(0, _classCallCheck3.default)(this, BenefitFinderModule);\n\t\t\treturn (0, _possibleConstructorReturn3.default)(this, _BaseModule.call(this, config));\n\t\t}\n\t\n\t\tBenefitFinderModule.prototype.init = function init() {\n\t\t\tif (this.node.is('[data-tpl=bfc01]')) {\n\t\t\t\tvar controllerInstance = new _BFC2.default();\n\t\t\t\tthis.controller = controllerInstance.init(this.node);\n\t\t\t}\n\t\t};\n\t\n\t\treturn BenefitFinderModule;\n\t}(_Base2.default);\n\t\n\texports.default = BenefitFinderModule;\n\n/***/ }),\n\n/***/ 666:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(1);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(3);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(2);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _AbstractController2 = __webpack_require__(9);\n\t\n\tvar _AbstractController3 = _interopRequireDefault(_AbstractController2);\n\t\n\tvar _RegionalisationSitecoreGateway = __webpack_require__(175);\n\t\n\tvar _RegionalisationSitecoreGateway2 = _interopRequireDefault(_RegionalisationSitecoreGateway);\n\t\n\tvar _PFCAutocomplete = __webpack_require__(174);\n\t\n\tvar _PFCAutocomplete2 = _interopRequireDefault(_PFCAutocomplete);\n\t\n\tvar _AutocompleteGateway = __webpack_require__(123);\n\t\n\tvar _AutocompleteGateway2 = _interopRequireDefault(_AutocompleteGateway);\n\t\n\tvar _fasterdom = __webpack_require__(5);\n\t\n\tvar _fasterdom2 = _interopRequireDefault(_fasterdom);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Class representing an product finder component (PFC01 / PFC02)\r\n\t * @extends { AbstractController }\r\n\t */\n\t\n\tvar BFCController = function (_AbstractController) {\n\t\t(0, _inherits3.default)(BFCController, _AbstractController);\n\t\n\t\tfunction BFCController() {\n\t\t\t(0, _classCallCheck3.default)(this, BFCController);\n\t\t\treturn (0, _possibleConstructorReturn3.default)(this, _AbstractController.call(this));\n\t\t}\n\t\n\t\tBFCController.prototype._makeRegionalisierung = function _makeRegionalisierung(successCallback, e, text) {\n\t\t\tthis.location = text;\n\t\t\t_RegionalisationSitecoreGateway2.default.regionalize(this._splitValue(text)).then(successCallback).catch(function (e) {});\n\t\t};\n\t\n\t\tBFCController.prototype._splitValue = function _splitValue(text) {\n\t\t\tvar zip = text.slice(0, 5),\n\t\t\t    city = text.substr(6);\n\t\n\t\t\treturn {\n\t\t\t\tzip: zip,\n\t\t\t\tcity: city\n\t\t\t};\n\t\t};\n\t\n\t\tBFCController.prototype._checkService = function _checkService() {\n\t\t\tvar _this2 = this;\n\t\n\t\t\t_RegionalisationSitecoreGateway2.default.getRegionalization().then(function () {\n\t\t\t\t_fasterdom2.default.mutateInstant(function () {\n\t\t\t\t\t_this2.$root.addClass('available');\n\t\t\t\t});\n\t\t\t}).catch(function () {\n\t\t\t\t_this2.logger.info('Product Finder Service down');\n\t\t\t\t//todo remove for prod\n\t\t\t\t_this2.$root.addClass('available');\n\t\t\t});\n\t\t};\n\t\n\t\tBFCController.prototype._validateLocation = function _validateLocation() {\n\t\t\treturn this.$autocomplete.is('.inline-editing--valid');\n\t\t};\n\t\n\t\tBFCController.prototype._validate = function _validate() {};\n\t\n\t\tBFCController.prototype._handleSubmit = function _handleSubmit(e) {}\n\t\t//e.preventDefault();\n\t\n\t\n\t\t/**\r\n\t  * Initialises the controller.\r\n\t  * Has to be called after ready event.\r\n\t  *\r\n\t  * @param { jQuery } $root - jQuery wrapped DOM node\r\n\t  * @public\r\n\t  * @return { BFCController } instance\r\n\t  */\n\t\t;\n\t\n\t\tBFCController.prototype.init = function init($root) {\n\t\t\tthis.$root = $root;\n\t\t\tthis.$autocomplete = $root.find('.autocomplete');\n\t\t\tthis.$form = $root.find('form');\n\t\n\t\t\tthis.$area = $root.find('.area');\n\t\t\tthis.$location = $root.find('.location');\n\t\t\tthis.$query = $root.find('.query');\n\t\n\t\t\tthis._checkService();\n\t\t\tthis._validate();\n\t\n\t\t\tthis.$autocomplete.on('select-validated-suggestion', this._makeRegionalisierung.bind(this, function () {}));\n\t\t\tthis.$form.on('submit', this._handleSubmit.bind(this));\n\t\n\t\t\tvar autocompleteInstance = new _PFCAutocomplete2.default(),\n\t\t\t    gateway = _AutocompleteGateway2.default[this.$autocomplete.attr('data-gateway')];\n\t\n\t\t\tautocompleteInstance.init(this.$autocomplete, gateway);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\treturn BFCController;\n\t}(_AbstractController3.default);\n\t\n\texports.default = BFCController;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// BenefitFinderModule.chunk.js","/**\n * Basic module class definition providing basic interface functions\n */\nclass BaseModule {\n\n\t/**\n\t * Initialize a module with a config provided by the AppConmoduleConfig\n\t * @param {moduleConfig} moduleConfig - Config parsed from teh DOM\n\t */\n\tconstructor ( moduleConfig ) {\n\n\t\t/**\n\t\t *\n\t\t * @type {Object}\n\t\t */\n\t\tthis.node       = moduleConfig.node;\n\t\t/**\n\t\t *\n\t\t * @type {Object}\n\t\t */\n\t\tthis.config     = moduleConfig.config;\n\t\t/**\n\t\t *\n\t\t * @type {string}\n\t\t */\n\t\tthis.identifier = moduleConfig.identifier;\n\t}\n\n\tinit () {\n\t\treturn this;\n\t}\n\n\t/**\n\t * @return {string} returns the identifier for the module instance\n\t */\n\tgetIdentifier () {\n\t\treturn this.identifier;\n\t}\n}\n\nexport default BaseModule;\n\n\n\n// WEBPACK FOOTER //\n// ./js/modules/Base.module.js","import locationSuggestionsGateway from './../../services/gateways/locationSuggestionsGateway.service';\r\n\r\nexport default {\r\n\tlocation : locationSuggestionsGateway\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/modules/repositories/AutocompleteGateway.repository.js","import $ from 'jquery';\r\nconst URL = {\r\n\thost : '',\r\n\tpath : '/energiekaufhaus/rs/regionalisierung/autocomplete?limit=100&ortEingabe='\r\n};\r\n\r\nfunction beginsWithZip ( text ) {\r\n\treturn /[\\d]{5}\\s\\D+/.test( text );\r\n}\r\n\r\nfunction getSuggestions ( query ) {\r\n\tlet checkedQuery = query.split( ' ' ).join( '+' );\r\n\r\n\tif ( beginsWithZip( query ) ) {\r\n\t\tcheckedQuery = checkedQuery.substring( 6 );\r\n\t}\r\n\r\n\treturn new Promise( ( resolve, reject ) => {\r\n\r\n\t\t\t\t$.get( URL.host + URL.path + checkedQuery, ( result ) => {\r\n\t\t\t\t\tconst suggestions = [];\r\n\r\n\t\t\t\t\t$.each( result, ( index, value ) => {\r\n\t\t\t\t\t\tif ( value.zip ) {\r\n\t\t\t\t\t\t\tsuggestions.push( value.zip + ' ' + value.city );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsuggestions.push( value.city );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t\tresolve( suggestions );\r\n\t\t\t\t} )\r\n\t\t\t\t\t\t.fail( ( error ) => {\r\n\t\t\t\t\t\t\treject( error );\r\n\t\t\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\t);\r\n}\r\n\r\nexport default {\r\n\tgetSuggestions :          getSuggestions,\r\n\tcheckSelectedSuggestion : ( suggestion ) => {\r\n\r\n\t\treturn new Promise( ( resolve, reject ) => {\r\n\r\n\t\t\t// check if there is a zip code in suggestion\r\n\t\t\tif ( beginsWithZip( suggestion ) ) {\r\n\t\t\t\tresolve( suggestion );\r\n\t\t\t}\r\n\r\n\t\t\tgetSuggestions( suggestion ).then( ( suggestions ) => {\r\n\t\t\t\tresolve( suggestions[ 0 ] );\r\n\t\t\t} ).catch( ( err ) => {\r\n\t\t\t\treject( err );\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/services/gateways/locationSuggestionsGateway.service.js","import AutocompleteController from '../../../forms/v2/controller/Autocomplete.controller';\r\nimport fasterdom from 'fasterdom';\r\n\r\n/**\r\n * Check whether the given string starts with a german zip\r\n * @param {String} text the location string\r\n * @returns {boolean} whether the regex matched\r\n */\r\nfunction beginsWithZip ( text ) {\r\n\treturn /[\\d]{5}\\s\\D+/.test( text );\r\n}\r\n\r\n/**\r\n * Class representing autocompletion for an input field\r\n * @extends { AbstractController }\r\n */\r\nclass PFCAutocompleteController extends AutocompleteController {\r\n\r\n\tconstructor () {\r\n\t\tsuper( true );\r\n\t}\r\n\r\n\t/**\r\n\t * Initialises the controller.\r\n\t * Has to be called after ready event.\r\n\t *\r\n\t * @param { jQuery } $root - jQuery wrapped DOM node\r\n\t * @param { Object } gateway - jQuery wrapped DOM node\r\n\t * @public\r\n\t * @return { PFCAutocompleteController } instance\r\n\t */\r\n\tinit ( $root, gateway ) {\r\n\t\tsuper.init( $root, gateway );\r\n\r\n\t\tthis.$input.on( 'focus', () => {\r\n\r\n\t\t\tthis.$input.val( '' );\r\n\t\t} );\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t_selectSuggestion ( text ) {\r\n\r\n\t\tif ( beginsWithZip( text ) ) {\r\n\r\n\t\t\tsuper._selectSuggestion( text );\r\n\r\n\t\t\tfasterdom.mutateInstant( () => {\r\n\t\t\t\tthis.$root.addClass( 'inline-editing--valid' );\r\n\t\t\t\tthis.$root.trigger( 'select-validated-suggestion', text );\r\n\t\t\t} );\r\n\r\n\t\t} else {\r\n\t\t\tthis.makeSuggestions( text );\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nexport default PFCAutocompleteController;\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/modules/productFinder/controller/PFCAutocomplete.controller.js","                 \n                                                    \n          \n\nimport DebugController from './../../base/controller/Debug.controller';\n\nconst\n\tinnogy = window.innogy,\n\tregioLogger = ( new DebugController() ).debugLocal( true, 'REGIONALISATION' );\n\nif ( !innogy ) {\n\tthrow new Error( 'Cannot use regionalisation functions. No global innogy found' );\n}\n\nif ( !innogy.regionalisation ) {\n\tthrow new Error( 'Cannot use regionalisation functions. No regionalisation on global innogy found' );\n}\n\nexport default {\n\t/**\n\t * Get current regionalization\n\t * @returns {Promise} promised\n\t */\n\tgetRegionalization : () => innogy.regionalisation.get()\n\t\t.catch( e => {\n\t\t\tregioLogger.warn( 'Could not get regionalisation', e );\n\t\t\treturn Promise.reject( e );\n\t\t} ),\n\n\t/**\n\t * Regionalize the user\n\t * @param {object}    data containing city and zip\n\t * @returns {Promise} promised\n\t */\n\tregionalize : ( { city, zip } ) => innogy.regionalisation.set( zip, city )\n\t\t.catch( e => {\n\t\t\tregioLogger.warn( 'Could not set regionalisation', e );\n\t\t\treturn Promise.reject( e );\n\t\t} )\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/services/gateways/RegionalisationSitecoreGateway.service.js","import BaseModule from './../Base.module';\r\nimport BfcController from './controller/BFC.controller';\r\n\r\nclass BenefitFinderModule extends BaseModule {\r\n\r\n\tconstructor ( config ) {\r\n\r\n\t\tsuper( config );\r\n\t}\r\n\r\n\tinit () {\r\n\t\tif (this.node.is('[data-tpl=bfc01]')) {\r\n\t\t\tconst controllerInstance = new BfcController();\r\n\t\t\tthis.controller = controllerInstance.init(this.node);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default BenefitFinderModule;\n\n\n// WEBPACK FOOTER //\n// ./js/modules/benefitFinder/BenefitFinder.module.js","import AbstractController from './../../../base/controller/Abstract.controller.js';\r\nimport RegionalizationGateway from './../../../services/gateways/RegionalisationSitecoreGateway.service';\r\nimport PFCAutocompleteController from './../../productFinder/controller/PFCAutocomplete.controller';\r\nimport AutocompleteGatewayRepository from './../../../modules/repositories/AutocompleteGateway.repository';\r\n\r\nimport dom from 'fasterdom';\r\n\r\n/**\r\n * Class representing an product finder component (PFC01 / PFC02)\r\n * @extends { AbstractController }\r\n */\r\nclass BFCController extends AbstractController {\r\n\r\n\tconstructor () {\r\n\t\tsuper();\r\n\t}\r\n\r\n\t_makeRegionalisierung ( successCallback, e, text ) {\r\n\t\tthis.location = text;\r\n\t\tRegionalizationGateway\r\n\t\t\t.regionalize( this._splitValue( text ) )\r\n\t\t\t.then( successCallback )\r\n\t\t\t.catch( e => {} );\r\n\t}\r\n\r\n\t_splitValue ( text ) {\r\n\t\tconst zip  = text.slice( 0, 5 ),\r\n\t\t      city = text.substr( 6 );\r\n\r\n\t\treturn {\r\n\t\t\tzip,\r\n\t\t\tcity\r\n\t\t};\r\n\t}\r\n\r\n\t_checkService () {\r\n\t\tRegionalizationGateway.getRegionalization().then( () => {\r\n\t\t\tdom.mutateInstant( () => {\r\n\t\t\t\tthis.$root.addClass( 'available' );\r\n\t\t\t} );\r\n\t\t} ).catch( () => {\r\n\t\t\tthis.logger.info( 'Product Finder Service down' );\r\n\t\t\t//todo remove for prod\r\n\t\t\tthis.$root.addClass( 'available' );\r\n\t\t} );\r\n\t}\r\n\r\n\t_validateLocation () {\r\n\t\treturn this.$autocomplete.is( '.inline-editing--valid' );\r\n\t}\r\n\r\n\t_validate () {\r\n\r\n\t}\r\n\r\n\t_handleSubmit ( e ) {\r\n\t\t//e.preventDefault();\r\n\t}\r\n\r\n\t/**\r\n\t * Initialises the controller.\r\n\t * Has to be called after ready event.\r\n\t *\r\n\t * @param { jQuery } $root - jQuery wrapped DOM node\r\n\t * @public\r\n\t * @return { BFCController } instance\r\n\t */\r\n\tinit ( $root ) {\r\n\t\tthis.$root         = $root;\r\n\t\tthis.$autocomplete = $root.find( '.autocomplete' );\r\n\t\tthis.$form         = $root.find( 'form' );\r\n\r\n\t\tthis.$area     = $root.find( '.area' );\r\n\t\tthis.$location = $root.find( '.location' );\r\n\t\tthis.$query    = $root.find( '.query' );\r\n\r\n\t\tthis._checkService();\r\n\t\tthis._validate();\r\n\r\n\t\tthis.$autocomplete.on( 'select-validated-suggestion', this._makeRegionalisierung.bind( this, () => {} ) );\r\n\t\tthis.$form.on( 'submit', this._handleSubmit.bind( this ) );\r\n\r\n\t\tconst autocompleteInstance = new PFCAutocompleteController(),\r\n\t\t      gateway              = AutocompleteGatewayRepository[ this.$autocomplete.attr( 'data-gateway' ) ];\r\n\r\n\t\tautocompleteInstance.init( this.$autocomplete, gateway );\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n}\r\n\r\nexport default BFCController;\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/modules/benefitFinder/controller/BFC.controller.js"],"sourceRoot":""}
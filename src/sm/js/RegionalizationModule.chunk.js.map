{"version":3,"sources":["webpack:///RegionalizationModule.chunk.js","webpack:///./js/modules/Base.module.js","webpack:///./js/modules/repositories/AutocompleteGateway.repository.js?9115*","webpack:///./js/services/gateways/locationSuggestionsGateway.service.js?f234*","webpack:///./js/modules/productFinder/controller/PFCAutocomplete.controller.js?e73f","webpack:///./js/services/gateways/RegionalisationSitecoreGateway.service.js?1f26","webpack:///./js/modules/regionalization/Regionalization.module.js","webpack:///./js/modules/regionalization/controller/REG01.controller.js"],"names":["webpackJsonp","22","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_classCallCheck2","_classCallCheck3","BaseModule","moduleConfig","this","node","config","identifier","prototype","init","getIdentifier","123","_locationSuggestionsGateway","_locationSuggestionsGateway2","location","125","beginsWithZip","text","test","getSuggestions","query","checkedQuery","split","join","substring","_promise2","resolve","reject","_jquery2","get","URL","host","path","result","suggestions","each","index","zip","push","city","fail","error","_promise","_jquery","checkSelectedSuggestion","suggestion","then","catch","err","174","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_Autocomplete","_Autocomplete2","_fasterdom","_fasterdom2","PFCAutocompleteController","_AutocompleteControll","call","$root","gateway","_this2","$input","on","val","_selectSuggestion","_this3","mutateInstant","addClass","trigger","makeSuggestions","175","_Debug","_Debug2","innogy","window","regioLogger","debugLocal","Error","regionalisation","getRegionalization","e","warn","regionalize","_ref","set","682","_Base","_Base2","_REG","_REG2","RegionalizationModule","_BaseModule","getAttribute","controllerInstance","controller","684","_toggleButton","button","bool","removeClass","regioCallback","_AbstractController2","_AbstractController3","_RegionalisationSitecoreGateway","_RegionalisationSitecoreGateway2","_PFCAutocomplete","_PFCAutocomplete2","_AutocompleteGateway","_AutocompleteGateway2","BUTTON_STATES","ENABLED","DISABLED","REG01Controller","_AbstractController","_validate","_validateLocation","$btn","_makeRegionalisierung","successCallback","_splitValue","slice","substr","$autocomplete","is","_handleSubmit","preventDefault","find","$form","bind","autocompleteInstance","attr"],"mappings":"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","file":"RegionalizationModule.chunk.js","sourcesContent":["/*!\n * frontend\n * name: innogy-web,\n * buildDate: Tue Jul 11 2017 11:09:41 GMT+0200 (CEST),\n * packageVersion: 2.0.0\n */\n\nwebpackJsonp([8],{\n\n/***/ 22:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(1);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Basic module class definition providing basic interface functions\n\t */\n\t\n\tvar BaseModule = function () {\n\t\n\t\t/**\n\t  * Initialize a module with a config provided by the AppConmoduleConfig\n\t  * @param {moduleConfig} moduleConfig - Config parsed from teh DOM\n\t  */\n\t\n\t\tfunction BaseModule(moduleConfig) {\n\t\t\t(0, _classCallCheck3.default)(this, BaseModule);\n\t\n\t\n\t\t\t/**\n\t   *\n\t   * @type {Object}\n\t   */\n\t\t\tthis.node = moduleConfig.node;\n\t\t\t/**\n\t   *\n\t   * @type {Object}\n\t   */\n\t\t\tthis.config = moduleConfig.config;\n\t\t\t/**\n\t   *\n\t   * @type {string}\n\t   */\n\t\t\tthis.identifier = moduleConfig.identifier;\n\t\t}\n\t\n\t\tBaseModule.prototype.init = function init() {\n\t\t\treturn this;\n\t\t};\n\t\n\t\t/**\n\t  * @return {string} returns the identifier for the module instance\n\t  */\n\t\n\t\n\t\tBaseModule.prototype.getIdentifier = function getIdentifier() {\n\t\t\treturn this.identifier;\n\t\t};\n\t\n\t\treturn BaseModule;\n\t}();\n\t\n\texports.default = BaseModule;\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _locationSuggestionsGateway = __webpack_require__(125);\n\t\n\tvar _locationSuggestionsGateway2 = _interopRequireDefault(_locationSuggestionsGateway);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t\tlocation: _locationSuggestionsGateway2.default\n\t};\n\n/***/ }),\n\n/***/ 125:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _promise = __webpack_require__(12);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _jquery = __webpack_require__(6);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar URL = {\n\t\thost: '',\n\t\tpath: '/energiekaufhaus/rs/regionalisierung/autocomplete?limit=100&ortEingabe='\n\t};\n\t\n\tfunction beginsWithZip(text) {\n\t\treturn (/[\\d]{5}\\s\\D+/.test(text)\n\t\t);\n\t}\n\t\n\tfunction getSuggestions(query) {\n\t\tvar checkedQuery = query.split(' ').join('+');\n\t\n\t\tif (beginsWithZip(query)) {\n\t\t\tcheckedQuery = checkedQuery.substring(6);\n\t\t}\n\t\n\t\treturn new _promise2.default(function (resolve, reject) {\n\t\n\t\t\t_jquery2.default.get(URL.host + URL.path + checkedQuery, function (result) {\n\t\t\t\tvar suggestions = [];\n\t\n\t\t\t\t_jquery2.default.each(result, function (index, value) {\n\t\t\t\t\tif (value.zip) {\n\t\t\t\t\t\tsuggestions.push(value.zip + ' ' + value.city);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsuggestions.push(value.city);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\n\t\t\t\tresolve(suggestions);\n\t\t\t}).fail(function (error) {\n\t\t\t\treject(error);\n\t\t\t});\n\t\t});\n\t}\n\t\n\texports.default = {\n\t\tgetSuggestions: getSuggestions,\n\t\tcheckSelectedSuggestion: function checkSelectedSuggestion(suggestion) {\n\t\n\t\t\treturn new _promise2.default(function (resolve, reject) {\n\t\n\t\t\t\t// check if there is a zip code in suggestion\n\t\t\t\tif (beginsWithZip(suggestion)) {\n\t\t\t\t\tresolve(suggestion);\n\t\t\t\t}\n\t\n\t\t\t\tgetSuggestions(suggestion).then(function (suggestions) {\n\t\t\t\t\tresolve(suggestions[0]);\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n\n/***/ }),\n\n/***/ 174:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(1);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(3);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(2);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _Autocomplete = __webpack_require__(211);\n\t\n\tvar _Autocomplete2 = _interopRequireDefault(_Autocomplete);\n\t\n\tvar _fasterdom = __webpack_require__(5);\n\t\n\tvar _fasterdom2 = _interopRequireDefault(_fasterdom);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * Check whether the given string starts with a german zip\r\n\t * @param {String} text the location string\r\n\t * @returns {boolean} whether the regex matched\r\n\t */\n\tfunction beginsWithZip(text) {\n\t\treturn (/[\\d]{5}\\s\\D+/.test(text)\n\t\t);\n\t}\n\t\n\t/**\r\n\t * Class representing autocompletion for an input field\r\n\t * @extends { AbstractController }\r\n\t */\n\t\n\tvar PFCAutocompleteController = function (_AutocompleteControll) {\n\t\t(0, _inherits3.default)(PFCAutocompleteController, _AutocompleteControll);\n\t\n\t\tfunction PFCAutocompleteController() {\n\t\t\t(0, _classCallCheck3.default)(this, PFCAutocompleteController);\n\t\t\treturn (0, _possibleConstructorReturn3.default)(this, _AutocompleteControll.call(this, true));\n\t\t}\n\t\n\t\t/**\r\n\t  * Initialises the controller.\r\n\t  * Has to be called after ready event.\r\n\t  *\r\n\t  * @param { jQuery } $root - jQuery wrapped DOM node\r\n\t  * @param { Object } gateway - jQuery wrapped DOM node\r\n\t  * @public\r\n\t  * @return { PFCAutocompleteController } instance\r\n\t  */\n\t\n\t\n\t\tPFCAutocompleteController.prototype.init = function init($root, gateway) {\n\t\t\tvar _this2 = this;\n\t\n\t\t\t_AutocompleteControll.prototype.init.call(this, $root, gateway);\n\t\n\t\t\tthis.$input.on('focus', function () {\n\t\n\t\t\t\t_this2.$input.val('');\n\t\t\t});\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\tPFCAutocompleteController.prototype._selectSuggestion = function _selectSuggestion(text) {\n\t\t\tvar _this3 = this;\n\t\n\t\t\tif (beginsWithZip(text)) {\n\t\n\t\t\t\t_AutocompleteControll.prototype._selectSuggestion.call(this, text);\n\t\n\t\t\t\t_fasterdom2.default.mutateInstant(function () {\n\t\t\t\t\t_this3.$root.addClass('inline-editing--valid');\n\t\t\t\t\t_this3.$root.trigger('select-validated-suggestion', text);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.makeSuggestions(text);\n\t\t\t}\n\t\t};\n\t\n\t\treturn PFCAutocompleteController;\n\t}(_Autocomplete2.default);\n\t\n\texports.default = PFCAutocompleteController;\n\n/***/ }),\n\n/***/ 175:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _promise = __webpack_require__(12);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _Debug = __webpack_require__(75);\n\t\n\tvar _Debug2 = _interopRequireDefault(_Debug);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar innogy = window.innogy,\n\t    regioLogger = new _Debug2.default().debugLocal(true, 'REGIONALISATION');\n\t\n\tif (!innogy) {\n\t\tthrow new Error('Cannot use regionalisation functions. No global innogy found');\n\t}\n\t\n\tif (!innogy.regionalisation) {\n\t\tthrow new Error('Cannot use regionalisation functions. No regionalisation on global innogy found');\n\t}\n\t\n\texports.default = {\n\t\t/**\n\t  * Get current regionalization\n\t  * @returns {Promise} promised\n\t  */\n\t\tgetRegionalization: function getRegionalization() {\n\t\t\treturn innogy.regionalisation.get().catch(function (e) {\n\t\t\t\tregioLogger.warn('Could not get regionalisation', e);\n\t\t\t\treturn _promise2.default.reject(e);\n\t\t\t});\n\t\t},\n\t\n\t\t/**\n\t  * Regionalize the user\n\t  * @param {object}    data containing city and zip\n\t  * @returns {Promise} promised\n\t  */\n\t\tregionalize: function regionalize(_ref) {\n\t\t\tvar city = _ref.city,\n\t\t\t    zip = _ref.zip;\n\t\t\treturn innogy.regionalisation.set(zip, city).catch(function (e) {\n\t\t\t\tregioLogger.warn('Could not set regionalisation', e);\n\t\t\t\treturn _promise2.default.reject(e);\n\t\t\t});\n\t\t}\n\t\n\t};\n\n/***/ }),\n\n/***/ 682:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(1);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(3);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(2);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _Base = __webpack_require__(22);\n\t\n\tvar _Base2 = _interopRequireDefault(_Base);\n\t\n\tvar _REG = __webpack_require__(684);\n\t\n\tvar _REG2 = _interopRequireDefault(_REG);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * @extends {BaseModule}\r\n\t */\n\t\n\tvar RegionalizationModule = function (_BaseModule) {\n\t\t(0, _inherits3.default)(RegionalizationModule, _BaseModule);\n\t\n\t\tfunction RegionalizationModule(config) {\n\t\t\t(0, _classCallCheck3.default)(this, RegionalizationModule);\n\t\t\treturn (0, _possibleConstructorReturn3.default)(this, _BaseModule.call(this, config));\n\t\t}\n\t\n\t\tRegionalizationModule.prototype.init = function init() {\n\t\t\t_BaseModule.prototype.init.call(this);\n\t\n\t\t\tif (this.node[0].getAttribute('data-tpl') === 'reg01') {\n\t\t\t\tvar controllerInstance = new _REG2.default();\n\t\n\t\t\t\tthis.controller = controllerInstance.init(this.node);\n\t\t\t}\n\t\t};\n\t\n\t\treturn RegionalizationModule;\n\t}(_Base2.default);\n\t\n\texports.default = RegionalizationModule;\n\n/***/ }),\n\n/***/ 684:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _classCallCheck2 = __webpack_require__(1);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _possibleConstructorReturn2 = __webpack_require__(3);\n\t\n\tvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\t\n\tvar _inherits2 = __webpack_require__(2);\n\t\n\tvar _inherits3 = _interopRequireDefault(_inherits2);\n\t\n\tvar _AbstractController2 = __webpack_require__(9);\n\t\n\tvar _AbstractController3 = _interopRequireDefault(_AbstractController2);\n\t\n\tvar _RegionalisationSitecoreGateway = __webpack_require__(175);\n\t\n\tvar _RegionalisationSitecoreGateway2 = _interopRequireDefault(_RegionalisationSitecoreGateway);\n\t\n\tvar _PFCAutocomplete = __webpack_require__(174);\n\t\n\tvar _PFCAutocomplete2 = _interopRequireDefault(_PFCAutocomplete);\n\t\n\tvar _AutocompleteGateway = __webpack_require__(123);\n\t\n\tvar _AutocompleteGateway2 = _interopRequireDefault(_AutocompleteGateway);\n\t\n\tvar _fasterdom = __webpack_require__(5);\n\t\n\tvar _fasterdom2 = _interopRequireDefault(_fasterdom);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar BUTTON_STATES = {\n\t\tENABLED: false,\n\t\tDISABLED: true\n\t};\n\t\n\t/**\r\n\t *\r\n\t * @param button\r\n\t * @param bool\r\n\t * @private\r\n\t */\n\tfunction _toggleButton(button, bool) {\n\t\n\t\t_fasterdom2.default.mutateInstant(function () {\n\t\n\t\t\tif (bool) {\n\t\t\t\tbutton.addClass('disabled');\n\t\t\t} else {\n\t\t\t\tbutton.removeClass('disabled');\n\t\t\t}\n\t\t});\n\t}\n\t\n\tfunction regioCallback() {}\n\t\n\t/**\r\n\t * Class representing a regionalization component (PFC01 / PFC02)\r\n\t * @extends { AbstractController }\r\n\t */\n\t\n\tvar REG01Controller = function (_AbstractController) {\n\t\t(0, _inherits3.default)(REG01Controller, _AbstractController);\n\t\n\t\tfunction REG01Controller() {\n\t\t\t(0, _classCallCheck3.default)(this, REG01Controller);\n\t\t\treturn (0, _possibleConstructorReturn3.default)(this, _AbstractController.call(this));\n\t\t}\n\t\n\t\tREG01Controller.prototype._validate = function _validate(e, text) {\n\t\n\t\t\tif (this._validateLocation()) {\n\t\t\t\t_toggleButton(this.$btn, BUTTON_STATES.ENABLED);\n\t\t\t\tthis._makeRegionalisierung(regioCallback, e, text);\n\t\t\t} else {\n\t\n\t\t\t\t_toggleButton(this.$btn, BUTTON_STATES.DISABLED);\n\t\t\t}\n\t\t};\n\t\n\t\tREG01Controller.prototype._makeRegionalisierung = function _makeRegionalisierung(successCallback, e, text) {\n\t\t\tthis.location = text;\n\t\t\t_RegionalisationSitecoreGateway2.default.regionalize(this._splitValue(text)).then(successCallback).catch(function (e) {});\n\t\t};\n\t\n\t\tREG01Controller.prototype._splitValue = function _splitValue(text) {\n\t\t\tvar zip = text.slice(0, 5),\n\t\t\t    city = text.substr(6);\n\t\n\t\t\treturn {\n\t\t\t\tzip: zip,\n\t\t\t\tcity: city\n\t\t\t};\n\t\t};\n\t\n\t\tREG01Controller.prototype._validateLocation = function _validateLocation() {\n\t\t\treturn this.$autocomplete.is('.inline-editing--valid');\n\t\t};\n\t\n\t\tREG01Controller.prototype._handleSubmit = function _handleSubmit(e) {\n\t\t\te.preventDefault();\n\t\t};\n\t\n\t\t/**\r\n\t  * Initialises the controller.\r\n\t  * Has to be called after ready event.\r\n\t  *\r\n\t  * @param { jQuery } $root - jQuery wrapped DOM node\r\n\t  * @public\r\n\t  * @return { REG01Controller } instance\r\n\t  */\n\t\n\t\n\t\tREG01Controller.prototype.init = function init($root) {\n\t\t\tthis.$root = $root;\n\t\t\tthis.$autocomplete = $root.find('.autocomplete');\n\t\t\tthis.$form = $root.find('form');\n\t\t\tthis.$btn = $root.find('a.btn');\n\t\n\t\t\tif (this._validateLocation()) {\n\t\t\t\t_toggleButton(this.$btn, BUTTON_STATES.ENABLED);\n\t\t\t} else {\n\t\t\t\t_toggleButton(this.$btn, BUTTON_STATES.DISABLED);\n\t\t\t}\n\t\n\t\t\tthis.$autocomplete.on('select-validated-suggestion', this._validate.bind(this));\n\t\t\tthis.$form.on('submit', this._handleSubmit.bind(this));\n\t\n\t\t\tvar autocompleteInstance = new _PFCAutocomplete2.default(),\n\t\t\t    gateway = _AutocompleteGateway2.default[this.$autocomplete.attr('data-gateway')];\n\t\n\t\t\tautocompleteInstance.init(this.$autocomplete, gateway);\n\t\n\t\t\treturn this;\n\t\t};\n\t\n\t\treturn REG01Controller;\n\t}(_AbstractController3.default);\n\t\n\texports.default = REG01Controller;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// RegionalizationModule.chunk.js","/**\n * Basic module class definition providing basic interface functions\n */\nclass BaseModule {\n\n\t/**\n\t * Initialize a module with a config provided by the AppConmoduleConfig\n\t * @param {moduleConfig} moduleConfig - Config parsed from teh DOM\n\t */\n\tconstructor ( moduleConfig ) {\n\n\t\t/**\n\t\t *\n\t\t * @type {Object}\n\t\t */\n\t\tthis.node       = moduleConfig.node;\n\t\t/**\n\t\t *\n\t\t * @type {Object}\n\t\t */\n\t\tthis.config     = moduleConfig.config;\n\t\t/**\n\t\t *\n\t\t * @type {string}\n\t\t */\n\t\tthis.identifier = moduleConfig.identifier;\n\t}\n\n\tinit () {\n\t\treturn this;\n\t}\n\n\t/**\n\t * @return {string} returns the identifier for the module instance\n\t */\n\tgetIdentifier () {\n\t\treturn this.identifier;\n\t}\n}\n\nexport default BaseModule;\n\n\n\n// WEBPACK FOOTER //\n// ./js/modules/Base.module.js","import locationSuggestionsGateway from './../../services/gateways/locationSuggestionsGateway.service';\r\n\r\nexport default {\r\n\tlocation : locationSuggestionsGateway\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/modules/repositories/AutocompleteGateway.repository.js","import $ from 'jquery';\r\nconst URL = {\r\n\thost : '',\r\n\tpath : '/energiekaufhaus/rs/regionalisierung/autocomplete?limit=100&ortEingabe='\r\n};\r\n\r\nfunction beginsWithZip ( text ) {\r\n\treturn /[\\d]{5}\\s\\D+/.test( text );\r\n}\r\n\r\nfunction getSuggestions ( query ) {\r\n\tlet checkedQuery = query.split( ' ' ).join( '+' );\r\n\r\n\tif ( beginsWithZip( query ) ) {\r\n\t\tcheckedQuery = checkedQuery.substring( 6 );\r\n\t}\r\n\r\n\treturn new Promise( ( resolve, reject ) => {\r\n\r\n\t\t\t\t$.get( URL.host + URL.path + checkedQuery, ( result ) => {\r\n\t\t\t\t\tconst suggestions = [];\r\n\r\n\t\t\t\t\t$.each( result, ( index, value ) => {\r\n\t\t\t\t\t\tif ( value.zip ) {\r\n\t\t\t\t\t\t\tsuggestions.push( value.zip + ' ' + value.city );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsuggestions.push( value.city );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t\tresolve( suggestions );\r\n\t\t\t\t} )\r\n\t\t\t\t\t\t.fail( ( error ) => {\r\n\t\t\t\t\t\t\treject( error );\r\n\t\t\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\t);\r\n}\r\n\r\nexport default {\r\n\tgetSuggestions :          getSuggestions,\r\n\tcheckSelectedSuggestion : ( suggestion ) => {\r\n\r\n\t\treturn new Promise( ( resolve, reject ) => {\r\n\r\n\t\t\t// check if there is a zip code in suggestion\r\n\t\t\tif ( beginsWithZip( suggestion ) ) {\r\n\t\t\t\tresolve( suggestion );\r\n\t\t\t}\r\n\r\n\t\t\tgetSuggestions( suggestion ).then( ( suggestions ) => {\r\n\t\t\t\tresolve( suggestions[ 0 ] );\r\n\t\t\t} ).catch( ( err ) => {\r\n\t\t\t\treject( err );\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/services/gateways/locationSuggestionsGateway.service.js","import AutocompleteController from '../../../forms/v2/controller/Autocomplete.controller';\r\nimport fasterdom from 'fasterdom';\r\n\r\n/**\r\n * Check whether the given string starts with a german zip\r\n * @param {String} text the location string\r\n * @returns {boolean} whether the regex matched\r\n */\r\nfunction beginsWithZip ( text ) {\r\n\treturn /[\\d]{5}\\s\\D+/.test( text );\r\n}\r\n\r\n/**\r\n * Class representing autocompletion for an input field\r\n * @extends { AbstractController }\r\n */\r\nclass PFCAutocompleteController extends AutocompleteController {\r\n\r\n\tconstructor () {\r\n\t\tsuper( true );\r\n\t}\r\n\r\n\t/**\r\n\t * Initialises the controller.\r\n\t * Has to be called after ready event.\r\n\t *\r\n\t * @param { jQuery } $root - jQuery wrapped DOM node\r\n\t * @param { Object } gateway - jQuery wrapped DOM node\r\n\t * @public\r\n\t * @return { PFCAutocompleteController } instance\r\n\t */\r\n\tinit ( $root, gateway ) {\r\n\t\tsuper.init( $root, gateway );\r\n\r\n\t\tthis.$input.on( 'focus', () => {\r\n\r\n\t\t\tthis.$input.val( '' );\r\n\t\t} );\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t_selectSuggestion ( text ) {\r\n\r\n\t\tif ( beginsWithZip( text ) ) {\r\n\r\n\t\t\tsuper._selectSuggestion( text );\r\n\r\n\t\t\tfasterdom.mutateInstant( () => {\r\n\t\t\t\tthis.$root.addClass( 'inline-editing--valid' );\r\n\t\t\t\tthis.$root.trigger( 'select-validated-suggestion', text );\r\n\t\t\t} );\r\n\r\n\t\t} else {\r\n\t\t\tthis.makeSuggestions( text );\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nexport default PFCAutocompleteController;\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/modules/productFinder/controller/PFCAutocomplete.controller.js","                 \n                                                    \n          \n\nimport DebugController from './../../base/controller/Debug.controller';\n\nconst\n\tinnogy = window.innogy,\n\tregioLogger = ( new DebugController() ).debugLocal( true, 'REGIONALISATION' );\n\nif ( !innogy ) {\n\tthrow new Error( 'Cannot use regionalisation functions. No global innogy found' );\n}\n\nif ( !innogy.regionalisation ) {\n\tthrow new Error( 'Cannot use regionalisation functions. No regionalisation on global innogy found' );\n}\n\nexport default {\n\t/**\n\t * Get current regionalization\n\t * @returns {Promise} promised\n\t */\n\tgetRegionalization : () => innogy.regionalisation.get()\n\t\t.catch( e => {\n\t\t\tregioLogger.warn( 'Could not get regionalisation', e );\n\t\t\treturn Promise.reject( e );\n\t\t} ),\n\n\t/**\n\t * Regionalize the user\n\t * @param {object}    data containing city and zip\n\t * @returns {Promise} promised\n\t */\n\tregionalize : ( { city, zip } ) => innogy.regionalisation.set( zip, city )\n\t\t.catch( e => {\n\t\t\tregioLogger.warn( 'Could not set regionalisation', e );\n\t\t\treturn Promise.reject( e );\n\t\t} )\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/services/gateways/RegionalisationSitecoreGateway.service.js","import BaseModule from './../Base.module';\r\nimport REG01Controller from './controller/REG01.controller';\r\n\r\n/**\r\n * @extends {BaseModule}\r\n */\r\nclass RegionalizationModule extends BaseModule {\r\n\r\n\tconstructor ( config ) {\r\n\t\tsuper( config );\r\n\t}\r\n\r\n\tinit () {\r\n\t\tsuper.init();\r\n\r\n\t\tif ( this.node[ 0 ].getAttribute( 'data-tpl' ) === 'reg01' ) {\r\n\t\t\tconst controllerInstance = new REG01Controller();\r\n\r\n\t\t\tthis.controller          = controllerInstance.init( this.node );\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\nexport default RegionalizationModule;\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/modules/regionalization/Regionalization.module.js","import AbstractController from './../../../base/controller/Abstract.controller.js';\r\nimport RegionalizationGateway from './../../../services/gateways/RegionalisationSitecoreGateway.service';\r\nimport PFCAutocompleteController from './../../productFinder/controller/PFCAutocomplete.controller';\r\nimport AutocompleteGatewayRepository from './../../../modules/repositories/AutocompleteGateway.repository';\r\n\r\nimport dom from 'fasterdom';\r\n\r\nconst BUTTON_STATES = {\r\n\tENABLED :  false,\r\n\tDISABLED : true\r\n};\r\n\r\n/**\r\n *\r\n * @param button\r\n * @param bool\r\n * @private\r\n */\r\nfunction _toggleButton ( button, bool ) {\r\n\r\n\tdom.mutateInstant( () => {\r\n\r\n\t\tif ( bool ) {\r\n\t\t\tbutton.addClass( 'disabled' );\r\n\t\t} else {\r\n\t\t\tbutton.removeClass( 'disabled' );\r\n\t\t}\r\n\t} );\r\n}\r\n\r\nfunction regioCallback () {\r\n\r\n}\r\n\r\n/**\r\n * Class representing a regionalization component (PFC01 / PFC02)\r\n * @extends { AbstractController }\r\n */\r\nclass REG01Controller extends AbstractController {\r\n\r\n\tconstructor () {\r\n\t\tsuper();\r\n\t}\r\n\r\n\t_validate ( e, text ) {\r\n\r\n\t\tif ( this._validateLocation() ) {\r\n\t\t\t_toggleButton( this.$btn, BUTTON_STATES.ENABLED );\r\n\t\t\tthis._makeRegionalisierung( regioCallback, e, text );\r\n\t\t} else {\r\n\r\n\t\t\t_toggleButton( this.$btn, BUTTON_STATES.DISABLED );\r\n\t\t}\r\n\t}\r\n\r\n\t_makeRegionalisierung ( successCallback, e, text ) {\r\n\t\tthis.location = text;\r\n\t\tRegionalizationGateway\r\n\t\t\t.regionalize( this._splitValue( text ) )\r\n\t\t\t.then( successCallback )\r\n\t\t\t.catch( e => {} );\r\n\t}\r\n\r\n\t_splitValue ( text ) {\r\n\t\tconst zip  = text.slice( 0, 5 ),\r\n\t\t      city = text.substr( 6 );\r\n\r\n\t\treturn {\r\n\t\t\tzip,\r\n\t\t\tcity\r\n\t\t};\r\n\t}\r\n\r\n\t_validateLocation () {\r\n\t\treturn this.$autocomplete.is( '.inline-editing--valid' );\r\n\t}\r\n\r\n\t_handleSubmit ( e ) {\r\n\t\te.preventDefault();\r\n\t}\r\n\r\n\t/**\r\n\t * Initialises the controller.\r\n\t * Has to be called after ready event.\r\n\t *\r\n\t * @param { jQuery } $root - jQuery wrapped DOM node\r\n\t * @public\r\n\t * @return { REG01Controller } instance\r\n\t */\r\n\tinit ( $root ) {\r\n\t\tthis.$root         = $root;\r\n\t\tthis.$autocomplete = $root.find( '.autocomplete' );\r\n\t\tthis.$form         = $root.find( 'form' );\r\n\t\tthis.$btn          = $root.find( 'a.btn' );\r\n\r\n\t\tif ( this._validateLocation() ) {\r\n\t\t\t_toggleButton( this.$btn, BUTTON_STATES.ENABLED );\r\n\t\t} else {\r\n\t\t\t_toggleButton( this.$btn, BUTTON_STATES.DISABLED );\r\n\t\t}\r\n\r\n\t\tthis.$autocomplete.on( 'select-validated-suggestion', this._validate.bind( this ) );\r\n\t\tthis.$form.on( 'submit', this._handleSubmit.bind( this ) );\r\n\r\n\t\tconst autocompleteInstance = new PFCAutocompleteController(),\r\n\t\t      gateway              = AutocompleteGatewayRepository[ this.$autocomplete.attr( 'data-gateway' ) ];\r\n\r\n\t\tautocompleteInstance.init( this.$autocomplete, gateway );\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n}\r\n\r\nexport default REG01Controller;\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/modules/regionalization/controller/REG01.controller.js"],"sourceRoot":""}